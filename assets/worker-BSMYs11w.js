(function(){"use strict";var _i=function(){var s=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(o){o=o||{};var r;r||(r=typeof o<"u"?o:{});var c,f;r.ready=new Promise(function(e,t){c=e,f=t});var n={},g;for(g in r)r.hasOwnProperty(g)&&(n[g]=r[g]);var W="./this.program";function ie(e,t){throw t}var Z="",te;Z=self.location.href,s&&(Z=s),Z.indexOf("blob:")!==0?Z=Z.substr(0,Z.lastIndexOf("/")+1):Z="",te=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)};var me=r.print||console.log.bind(console),m=r.printErr||console.warn.bind(console);for(g in n)n.hasOwnProperty(g)&&(r[g]=n[g]);n=null,r.thisProgram&&(W=r.thisProgram),r.quit&&(ie=r.quit);function x(e){y||(y={}),y[e]||(y[e]=1,m(e))}var y,v;r.wasmBinary&&(v=r.wasmBinary);var R=r.noExitRuntime||!0;typeof WebAssembly!="object"&&ee("no native wasm support detected");var se,ue=!1,D;function S(e,t){e||ee("Assertion failed: "+t)}function oe(e){var t=r["_"+e];return S(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function Oe(e,t,i,a){var _={string:function(T){var M=0;if(T!=null&&T!==0){var B=(T.length<<2)+1;M=si(B),L(T,K,M,B)}return M},array:function(T){var M=si(T.length);return ne.set(T,M),M}},u=oe(e),p=[];if(e=0,a)for(var k=0;k<a.length;k++){var z=_[i[k]];z?(e===0&&(e=cn()),p[k]=z(a[k])):p[k]=a[k]}return i=u.apply(null,p),i=function(T){return t==="string"?$(T):t==="boolean"?!!T:T}(i),e!==0&&un(e),i}var je=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ke(e,t,i){var a=t+i;for(i=t;e[i]&&!(i>=a);)++i;if(16<i-t&&e.subarray&&je)return je.decode(e.subarray(t,i));for(a="";t<i;){var _=e[t++];if(_&128){var u=e[t++]&63;if((_&224)==192)a+=String.fromCharCode((_&31)<<6|u);else{var p=e[t++]&63;_=(_&240)==224?(_&15)<<12|u<<6|p:(_&7)<<18|u<<12|p<<6|e[t++]&63,65536>_?a+=String.fromCharCode(_):(_-=65536,a+=String.fromCharCode(55296|_>>10,56320|_&1023))}}else a+=String.fromCharCode(_)}return a}function $(e,t){return e?ke(K,e,t):""}function L(e,t,i,a){if(!(0<a))return 0;var _=i;a=i+a-1;for(var u=0;u<e.length;++u){var p=e.charCodeAt(u);if(55296<=p&&57343>=p){var k=e.charCodeAt(++u);p=65536+((p&1023)<<10)|k&1023}if(127>=p){if(i>=a)break;t[i++]=p}else{if(2047>=p){if(i+1>=a)break;t[i++]=192|p>>6}else{if(65535>=p){if(i+2>=a)break;t[i++]=224|p>>12}else{if(i+3>=a)break;t[i++]=240|p>>18,t[i++]=128|p>>12&63}t[i++]=128|p>>6&63}t[i++]=128|p&63}}return t[i]=0,i-_}function Ve(e){for(var t=0,i=0;i<e.length;++i){var a=e.charCodeAt(i);55296<=a&&57343>=a&&(a=65536+((a&1023)<<10)|e.charCodeAt(++i)&1023),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}return t}function Ne(e){var t=Ve(e)+1,i=ot(t);return i&&L(e,ne,i,t),i}function pe(e,t){for(var i=0;i<e.length;++i)ne[t++>>0]=e.charCodeAt(i);ne[t>>0]=0}var Fe,ne,K,ye,J,w,C,Pe,Me;function Ge(){var e=se.buffer;Fe=e,r.HEAP8=ne=new Int8Array(e),r.HEAP16=ye=new Int16Array(e),r.HEAP32=w=new Int32Array(e),r.HEAPU8=K=new Uint8Array(e),r.HEAPU16=J=new Uint16Array(e),r.HEAPU32=C=new Uint32Array(e),r.HEAPF32=Pe=new Float32Array(e),r.HEAPF64=Me=new Float64Array(e)}var de,ve=[],ze=[],tt=[],rt=[];function bt(){var e=r.preRun.shift();ve.unshift(e)}var Ee=0,We=null;function He(){Ee++,r.monitorRunDependencies&&r.monitorRunDependencies(Ee)}function it(){if(Ee--,r.monitorRunDependencies&&r.monitorRunDependencies(Ee),Ee==0&&We){var e=We;We=null,e()}}r.preloadedImages={},r.preloadedAudios={};function ee(e){throw r.onAbort&&r.onAbort(e),m(e),ue=!0,D=1,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),f(e),e}var Ae="zappar-cv.wasm";if(String.prototype.startsWith?!Ae.startsWith("data:application/octet-stream;base64,"):Ae.indexOf("data:application/octet-stream;base64,")!==0){var $e=Ae;Ae=r.locateFile?r.locateFile($e,Z):Z+$e}function gt(e){var t=Ae;try{e:{try{if(t==Ae&&v){var i=new Uint8Array(v);break e}if(te){i=te(t);break e}throw"sync fetching of the wasm failed: you can preload it to Module['wasmBinary'] manually, or emcc.py will do that for you when generating HTML (but not JS)"}catch(u){ee(u)}i=void 0}var a=new WebAssembly.Module(i),_=new WebAssembly.Instance(a,e)}catch(u){throw e=u.toString(),m("failed to compile wasm module: "+e),(0<=e.indexOf("imported Memory")||0<=e.indexOf("memory import"))&&m("Memory size incompatibility issues may be due to changing INITIAL_MEMORY at runtime to something too large. Use ALLOW_MEMORY_GROWTH to allow any size memory (and also make sure not to set INITIAL_MEMORY at runtime to something smaller than it was at compile time)."),u}return[_,a]}var V,ae;function fe(e){for(;0<e.length;){var t=e.shift();if(typeof t=="function")t(r);else{var i=t.vd;typeof i=="number"?t.Oc===void 0?de.get(i)():de.get(i)(t.Oc):i(t.Oc===void 0?null:t.Oc)}}}var Le;Le=function(){return performance.now()};function Ze(e,t){if(e===0)e=Date.now();else if(e===1||e===4)e=Le();else return w[ai()>>2]=28,-1;return w[t>>2]=e/1e3|0,w[t+4>>2]=e%1e3*1e6|0,0}function N(e){this.Hc=e-16,this.Md=function(t){w[this.Hc+8>>2]=t},this.Jd=function(t){w[this.Hc+0>>2]=t},this.Kd=function(){w[this.Hc+4>>2]=0},this.Id=function(){ne[this.Hc+12>>0]=0},this.Ld=function(){ne[this.Hc+13>>0]=0},this.yd=function(t,i){this.Md(t),this.Jd(i),this.Kd(),this.Id(),this.Ld()}}function H(e,t){for(var i=0,a=e.length-1;0<=a;a--){var _=e[a];_==="."?e.splice(a,1):_===".."?(e.splice(a,1),i++):i&&(e.splice(a,1),i--)}if(t)for(;i;i--)e.unshift("..");return e}function U(e){var t=e.charAt(0)==="/",i=e.substr(-1)==="/";return(e=H(e.split("/").filter(function(a){return!!a}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e}function re(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)}function P(e){if(e==="/")return"/";e=U(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)}function _e(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){ee("randomDevice")}}function X(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){if(t=0<=i?arguments[i]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=H(e.split("/").filter(function(a){return!!a}),!t).join("/"),(t?"/":"")+e||"."}var Se=[];function ce(e,t){Se[e]={input:[],wc:[],Gc:t},_r(e,b)}var b={open:function(e){var t=Se[e.node.Lc];if(!t)throw new E(43);e.uc=t,e.seekable=!1},close:function(e){e.uc.Gc.flush(e.uc)},flush:function(e){e.uc.Gc.flush(e.uc)},read:function(e,t,i,a){if(!e.uc||!e.uc.Gc.hd)throw new E(60);for(var _=0,u=0;u<a;u++){try{var p=e.uc.Gc.hd(e.uc)}catch{throw new E(29)}if(p===void 0&&_===0)throw new E(6);if(p==null)break;_++,t[i+u]=p}return _&&(e.node.timestamp=Date.now()),_},write:function(e,t,i,a){if(!e.uc||!e.uc.Gc.$c)throw new E(60);try{for(var _=0;_<a;_++)e.uc.Gc.$c(e.uc,t[i+_])}catch{throw new E(29)}return a&&(e.node.timestamp=Date.now()),_}},h={hd:function(e){if(!e.input.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t)return null;e.input=ni(t,!0)}return e.input.shift()},$c:function(e,t){t===null||t===10?(me(ke(e.wc,0)),e.wc=[]):t!=0&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(me(ke(e.wc,0)),e.wc=[])}},F={$c:function(e,t){t===null||t===10?(m(ke(e.wc,0)),e.wc=[]):t!=0&&e.wc.push(t)},flush:function(e){e.wc&&0<e.wc.length&&(m(ke(e.wc,0)),e.wc=[])}},A={zc:null,Bc:function(){return A.createNode(null,"/",16895,0)},createNode:function(e,t,i,a){if((i&61440)===24576||(i&61440)===4096)throw new E(63);return A.zc||(A.zc={dir:{node:{yc:A.qc.yc,Ac:A.qc.Ac,Jc:A.qc.Jc,Qc:A.qc.Qc,nd:A.qc.nd,Wc:A.qc.Wc,od:A.qc.od,Rc:A.qc.Rc,Sc:A.qc.Sc},stream:{Ec:A.sc.Ec}},file:{node:{yc:A.qc.yc,Ac:A.qc.Ac},stream:{Ec:A.sc.Ec,read:A.sc.read,write:A.sc.write,cd:A.sc.cd,jd:A.sc.jd,ld:A.sc.ld}},link:{node:{yc:A.qc.yc,Ac:A.qc.Ac,Mc:A.qc.Mc},stream:{}},dd:{node:{yc:A.qc.yc,Ac:A.qc.Ac},stream:Mi}}),i=yt(e,t,i,a),(i.mode&61440)===16384?(i.qc=A.zc.dir.node,i.sc=A.zc.dir.stream,i.rc={}):(i.mode&61440)===32768?(i.qc=A.zc.file.node,i.sc=A.zc.file.stream,i.tc=0,i.rc=null):(i.mode&61440)===40960?(i.qc=A.zc.link.node,i.sc=A.zc.link.stream):(i.mode&61440)===8192&&(i.qc=A.zc.dd.node,i.sc=A.zc.dd.stream),i.timestamp=Date.now(),e&&(e.rc[t]=i,e.timestamp=i.timestamp),i},Yd:function(e){return e.rc?e.rc.subarray?e.rc.subarray(0,e.tc):new Uint8Array(e.rc):new Uint8Array(0)},ed:function(e,t){var i=e.rc?e.rc.length:0;i>=t||(t=Math.max(t,i*(1048576>i?2:1.125)>>>0),i!=0&&(t=Math.max(t,256)),i=e.rc,e.rc=new Uint8Array(t),0<e.tc&&e.rc.set(i.subarray(0,e.tc),0))},Gd:function(e,t){if(e.tc!=t)if(t==0)e.rc=null,e.tc=0;else{var i=e.rc;e.rc=new Uint8Array(t),i&&e.rc.set(i.subarray(0,Math.min(t,e.tc))),e.tc=t}},qc:{yc:function(e){var t={};return t.td=(e.mode&61440)===8192?e.id:1,t.Zc=e.id,t.mode=e.mode,t.Ed=1,t.uid=0,t.wd=0,t.Lc=e.Lc,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.tc:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.pd=new Date(e.timestamp),t.Dd=new Date(e.timestamp),t.sd=new Date(e.timestamp),t.qd=4096,t.rd=Math.ceil(t.size/t.qd),t},Ac:function(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&A.Gd(e,t.size)},Jc:function(){throw nt[44]},Qc:function(e,t,i,a){return A.createNode(e,t,i,a)},nd:function(e,t,i){if((e.mode&61440)===16384){try{var a=qe(t,i)}catch{}if(a)for(var _ in a.rc)throw new E(55)}delete e.parent.rc[e.name],e.parent.timestamp=Date.now(),e.name=i,t.rc[i]=e,t.timestamp=e.parent.timestamp,e.parent=t},Wc:function(e,t){delete e.rc[t],e.timestamp=Date.now()},od:function(e,t){var i=qe(e,t),a;for(a in i.rc)throw new E(55);delete e.rc[t],e.timestamp=Date.now()},Rc:function(e){var t=[".",".."],i;for(i in e.rc)e.rc.hasOwnProperty(i)&&t.push(i);return t},Sc:function(e,t,i){return e=A.createNode(e,t,41471,0),e.link=i,e},Mc:function(e){if((e.mode&61440)!==40960)throw new E(28);return e.link}},sc:{read:function(e,t,i,a,_){var u=e.node.rc;if(_>=e.node.tc)return 0;if(e=Math.min(e.node.tc-_,a),8<e&&u.subarray)t.set(u.subarray(_,_+e),i);else for(a=0;a<e;a++)t[i+a]=u[_+a];return e},write:function(e,t,i,a,_,u){if(t.buffer===ne.buffer&&(u=!1),!a)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.rc||e.rc.subarray)){if(u)return e.rc=t.subarray(i,i+a),e.tc=a;if(e.tc===0&&_===0)return e.rc=t.slice(i,i+a),e.tc=a;if(_+a<=e.tc)return e.rc.set(t.subarray(i,i+a),_),a}if(A.ed(e,_+a),e.rc.subarray&&t.subarray)e.rc.set(t.subarray(i,i+a),_);else for(u=0;u<a;u++)e.rc[_+u]=t[i+u];return e.tc=Math.max(e.tc,_+a),a},Ec:function(e,t,i){if(i===1?t+=e.position:i===2&&(e.node.mode&61440)===32768&&(t+=e.node.tc),0>t)throw new E(28);return t},cd:function(e,t,i){A.ed(e.node,t+i),e.node.tc=Math.max(e.node.tc,t+i)},jd:function(e,t,i,a,_,u){if(t!==0)throw new E(28);if((e.node.mode&61440)!==32768)throw new E(43);if(e=e.node.rc,u&2||e.buffer!==Fe){for((0<a||a+i<e.length)&&(e.subarray?e=e.subarray(a,a+i):e=Array.prototype.slice.call(e,a,a+i)),a=!0,u=16384*Math.ceil(i/16384),t=ot(u);i<u;)ne[t+i++]=0;if(i=t,!i)throw new E(48);ne.set(e,i)}else a=!1,i=e.byteOffset;return{Hc:i,Ud:a}},ld:function(e,t,i,a,_){if((e.node.mode&61440)!==32768)throw new E(43);return _&2||A.sc.write(e,t,0,a,i,!1),0}}},Q=null,Be={},Te=[],Ye=1,he=null,De=!0,Ie={},E=null,nt={};function we(e,t){if(e=X("/",e),t=t||{},!e)return{path:"",node:null};var i={fd:!0,ad:0},a;for(a in i)t[a]===void 0&&(t[a]=i[a]);if(8<t.ad)throw new E(32);e=H(e.split("/").filter(function(p){return!!p}),!1);var _=Q;for(i="/",a=0;a<e.length;a++){var u=a===e.length-1;if(u&&t.parent)break;if(_=qe(_,e[a]),i=U(i+"/"+e[a]),_.Kc&&(!u||u&&t.fd)&&(_=_.Kc.root),!u||t.Pc){for(u=0;(_.mode&61440)===40960;)if(_=Ii(i),i=X(re(i),_),_=we(i,{ad:t.ad}).node,40<u++)throw new E(32)}}return{path:i,node:_}}function et(e){for(var t;;){if(e===e.parent)return e=e.Bc.kd,t?e[e.length-1]!=="/"?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function ft(e,t){for(var i=0,a=0;a<t.length;a++)i=(i<<5)-i+t.charCodeAt(a)|0;return(e+i>>>0)%he.length}function qe(e,t){var i;if(i=(i=lt(e,"x"))?i:e.qc.Jc?0:2)throw new E(i,e);for(i=he[ft(e.id,t)];i;i=i.Fc){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return e.qc.Jc(e,t)}function yt(e,t,i,a){return e=new ii(e,t,i,a),t=ft(e.parent.id,e.name),e.Fc=he[t],he[t]=e}var sr={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function vt(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function lt(e,t){if(De)return 0;if(t.indexOf("r")===-1||e.mode&292){if(t.indexOf("w")!==-1&&!(e.mode&146)||t.indexOf("x")!==-1&&!(e.mode&73))return 2}else return 2;return 0}function or(e,t){try{return qe(e,t),20}catch{}return lt(e,"wx")}function Li(e){var t=4096;for(e=e||0;e<=t;e++)if(!Te[e])return e;throw new E(33)}function Fi(e,t){Ut||(Ut=function(){},Ut.prototype={});var i=new Ut,a;for(a in e)i[a]=e[a];return e=i,t=Li(t),e.Cc=t,Te[t]=e}var Mi={open:function(e){e.sc=Be[e.node.Lc].sc,e.sc.open&&e.sc.open(e)},Ec:function(){throw new E(70)}};function _r(e,t){Be[e]={sc:t}}function Cr(e,t){var i=t==="/",a=!t;if(i&&Q)throw new E(10);if(!i&&!a){var _=we(t,{fd:!1});if(t=_.path,_=_.node,_.Kc)throw new E(10);if((_.mode&61440)!==16384)throw new E(54)}t={type:e,be:{},kd:t,Cd:[]},e=e.Bc(t),e.Bc=t,t.root=e,i?Q=e:_&&(_.Kc=t,_.Bc&&_.Bc.Cd.push(t))}function cr(e,t,i){var a=we(e,{parent:!0}).node;if(e=P(e),!e||e==="."||e==="..")throw new E(28);var _=or(a,e);if(_)throw new E(_);if(!a.qc.Qc)throw new E(63);return a.qc.Qc(a,e,t,i)}function Ke(e){return cr(e,16895,0)}function Bt(e,t,i){typeof i>"u"&&(i=t,t=438),cr(e,t|8192,i)}function Dt(e,t){if(!X(e))throw new E(44);var i=we(t,{parent:!0}).node;if(!i)throw new E(44);t=P(t);var a=or(i,t);if(a)throw new E(a);if(!i.qc.Sc)throw new E(63);i.qc.Sc(i,t,e)}function Ii(e){if(e=we(e).node,!e)throw new E(44);if(!e.qc.Mc)throw new E(28);return X(et(e.parent),e.qc.Mc(e))}function Ur(e,t){if(e=we(e,{Pc:!t}).node,!e)throw new E(44);if(!e.qc.yc)throw new E(63);return e.qc.yc(e)}function Oi(e){return Ur(e,!0)}function Et(e,t,i,a){if(e==="")throw new E(44);if(typeof t=="string"){var _=sr[t];if(typeof _>"u")throw Error("Unknown file open mode: "+t);t=_}if(i=t&64?(typeof i>"u"?438:i)&4095|32768:0,typeof e=="object")var u=e;else{e=U(e);try{u=we(e,{Pc:!(t&131072)}).node}catch{}}if(_=!1,t&64)if(u){if(t&128)throw new E(20)}else u=cr(e,i,0),_=!0;if(!u)throw new E(44);if((u.mode&61440)===8192&&(t&=-513),t&65536&&(u.mode&61440)!==16384)throw new E(54);if(!_&&(i=u?(u.mode&61440)===40960?32:(u.mode&61440)===16384&&(vt(t)!=="r"||t&512)?31:lt(u,vt(t)):44))throw new E(i);if(t&512){if(i=u,i=typeof i=="string"?we(i,{Pc:!0}).node:i,!i.qc.Ac)throw new E(63);if((i.mode&61440)===16384)throw new E(31);if((i.mode&61440)!==32768)throw new E(28);if(_=lt(i,"w"))throw new E(_);i.qc.Ac(i,{size:0,timestamp:Date.now()})}t&=-131713,a=Fi({node:u,path:et(u),flags:t,seekable:!0,position:0,sc:u.sc,Rd:[],error:!1},a),a.sc.open&&a.sc.open(a),!r.logReadFiles||t&1||(Vt||(Vt={}),e in Vt||(Vt[e]=1,m("FS.trackingDelegate error on read file: "+e)));try{Ie.onOpenFile&&(u=0,(t&2097155)!==1&&(u|=1),t&2097155&&(u|=2),Ie.onOpenFile(e,u))}catch(p){m("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+p.message)}return a}function Ct(e,t,i){if(e.Cc===null)throw new E(8);if(!e.seekable||!e.sc.Ec)throw new E(70);if(i!=0&&i!=1&&i!=2)throw new E(28);return e.position=e.sc.Ec(e,t,i),e.Rd=[],e.position}function Vr(){E||(E=function(e,t){this.node=t,this.Hd=function(i){this.vc=i},this.Hd(e),this.message="FS error"},E.prototype=Error(),E.prototype.constructor=E,[44].forEach(function(e){nt[e]=new E(e),nt[e].stack="<generic error, no stack>"}))}var Nr;function Pi(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i}function At(e,t,i){e=U("/dev/"+e);var a=Pi(!!t,!!i);ur||(ur=64);var _=ur++<<8|0;_r(_,{open:function(u){u.seekable=!1},close:function(){i&&i.buffer&&i.buffer.length&&i(10)},read:function(u,p,k,z){for(var T=0,M=0;M<z;M++){try{var B=t()}catch{throw new E(29)}if(B===void 0&&T===0)throw new E(6);if(B==null)break;T++,p[k+M]=B}return T&&(u.node.timestamp=Date.now()),T},write:function(u,p,k,z){for(var T=0;T<z;T++)try{i(p[k+T])}catch{throw new E(29)}return z&&(u.node.timestamp=Date.now()),T}}),Bt(e,a,_)}var ur,be={},Ut,Vt;function Gr(e,t,i){try{var a=e(t)}catch(_){if(_&&_.node&&U(t)!==U(et(_.node)))return-54;throw _}return w[i>>2]=a.td,w[i+4>>2]=0,w[i+8>>2]=a.Zc,w[i+12>>2]=a.mode,w[i+16>>2]=a.Ed,w[i+20>>2]=a.uid,w[i+24>>2]=a.wd,w[i+28>>2]=a.Lc,w[i+32>>2]=0,ae=[a.size>>>0,(V=a.size,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[i+40>>2]=ae[0],w[i+44>>2]=ae[1],w[i+48>>2]=4096,w[i+52>>2]=a.rd,w[i+56>>2]=a.pd.getTime()/1e3|0,w[i+60>>2]=0,w[i+64>>2]=a.Dd.getTime()/1e3|0,w[i+68>>2]=0,w[i+72>>2]=a.sd.getTime()/1e3|0,w[i+76>>2]=0,ae=[a.Zc>>>0,(V=a.Zc,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[i+80>>2]=ae[0],w[i+84>>2]=ae[1],0}var Tt=void 0;function pt(){return Tt+=4,w[Tt-4>>2]}function at(e){if(e=Te[e],!e)throw new E(8);return e}function Si(e,t){if(Gt=e,Wt=t,xt){if(e==0)st=function(){var a=Math.max(0,Hr+t-Le())|0;setTimeout(Rt,a)};else if(e==1)st=function(){lr(Rt)};else if(e==2){if(typeof setImmediate>"u"){var i=[];addEventListener("message",function(a){(a.data==="setimmediate"||a.data.target==="setimmediate")&&(a.stopPropagation(),i.shift()())},!0),setImmediate=function(a){i.push(a),r.setImmediates===void 0&&(r.setImmediates=[]),r.setImmediates.push(a),postMessage({target:"setimmediate"})}}st=function(){setImmediate(Rt)}}}}function Bi(e){function t(){if(i<Nt){if(!R)try{oi(D)}catch(a){if(!(a instanceof vr))throw a}return!1}return!0}S(!xt,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),xt=e;var i=Nt;Rt=function(){if(!ue)if(0<Wr.length){var a=Date.now(),_=Wr.shift();_.vd(_.Oc);var u;console.log('main loop blocker "'+_.name+'" took '+(Date.now()-a)+" ms"),r.setStatus&&(a=r.statusMessage||"Please wait...",_=Ci,u=Di.Xd,_?_<u?r.setStatus(a+" ("+(u-_)+"/"+u+")"):r.setStatus(a):r.setStatus("")),t()&&setTimeout(Rt,0)}else t()&&(fr=fr+1|0,Gt==1&&1<Wt&&fr%Wt!=0?st():(Gt==0&&(Hr=Le()),ue||r.preMainLoop&&r.preMainLoop()===!1||(Je(e),r.postMainLoop&&r.postMainLoop()),t()&&(typeof SDL=="object"&&SDL.audio&&SDL.audio.Fd&&SDL.audio.Fd(),st())))}}function Je(e){try{e()}catch(t){if(!(t instanceof vr)&&t!=="unwind")throw t&&typeof t=="object"&&t.stack&&m("exception thrown: "+[t,t.stack]),t}}var st=null,Nt=0,xt=null,Gt=0,Wt=0,fr=0,Wr=[],Di={},Hr,Rt,Ci,kt=!1,Yr=!1,Ui=[];function Vi(){function e(){Yr=document.pointerLockElement===r.canvas||document.mozPointerLockElement===r.canvas||document.webkitPointerLockElement===r.canvas||document.msPointerLockElement===r.canvas}if(r.preloadPlugins||(r.preloadPlugins=[]),!jr){jr=!0;try{Ft=!0}catch{Ft=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Zr=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:Ft?null:console.log("warning: no BlobBuilder"),Mt=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,r.md||typeof Mt<"u"||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),r.md=!0),r.preloadPlugins.push({canHandle:function(i){return!r.md&&/\.(jpg|jpeg|png|bmp)$/i.test(i)},handle:function(i,a,_,u){var p=null;if(Ft)try{p=new Blob([i],{type:pr(a)}),p.size!==i.length&&(p=new Blob([new Uint8Array(i).buffer],{type:pr(a)}))}catch(T){x("Blob constructor present but fails: "+T+"; falling back to blob builder")}p||(p=new Zr,p.append(new Uint8Array(i).buffer),p=p.getBlob());var k=Mt.createObjectURL(p),z=new Image;z.onload=function(){S(z.complete,"Image "+a+" could not be decoded");var T=document.createElement("canvas");T.width=z.width,T.height=z.height,T.getContext("2d").drawImage(z,0,0),r.preloadedImages[a]=T,Mt.revokeObjectURL(k),_&&_(i)},z.onerror=function(){console.log("Image "+k+" could not be decoded"),u&&u()},z.src=k}}),r.preloadPlugins.push({canHandle:function(i){return!r.ae&&i.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(i,a,_,u){function p(B){z||(z=!0,r.preloadedAudios[a]=B,_&&_(i))}function k(){z||(z=!0,r.preloadedAudios[a]=new Audio,u&&u())}var z=!1;if(Ft){try{var T=new Blob([i],{type:pr(a)})}catch{return k()}T=Mt.createObjectURL(T);var M=new Audio;M.addEventListener("canplaythrough",function(){p(M)},!1),M.onerror=function(){if(!z){console.log("warning: browser could not fully decode audio "+a+", trying slower base64 approach");for(var B="",q=0,l=0,I=0;I<i.length;I++)for(q=q<<8|i[I],l+=8;6<=l;){var G=q>>l-6&63;l-=6,B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[G]}l==2?(B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q&3)<<4],B+="=="):l==4&&(B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q&15)<<2],B+="="),M.src="data:audio/x-"+a.substr(-3)+";base64,"+B,p(M)}},M.src=T,Xr(function(){p(M)},1e4)}else return k()}});var t=r.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),r.elementPointerLock&&t.addEventListener("click",function(i){!Yr&&r.canvas.requestPointerLock&&(r.canvas.requestPointerLock(),i.preventDefault())},!1))}}function Ni(e,t,i,a){if(t&&r.Yc&&e==r.canvas)return r.Yc;var _;if(t){var u={antialias:!1,alpha:!1,Bd:1};if(a)for(var p in a)u[p]=a[p];if(typeof tn<"u"&&(_=Qi(e,u)))var k=Yt[_].Xc}else k=e.getContext("2d");return k?(i&&(t||S(typeof ht>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),r.Yc=k,t&&(gr=Yt[_],r.Yc=ht=gr&&gr.Xc),r.ee=t,Ui.forEach(function(z){z()}),Vi()),k):null}var qr=!1,Ht=void 0,dt=void 0;function Gi(e,t){function i(){kt=!1;var u=a.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===u?(a.exitFullscreen=Wi,Ht&&a.requestPointerLock(),kt=!0,dt?(typeof SDL<"u"&&(w[SDL.screen>>2]=C[SDL.screen>>2]|8388608),Lt(r.canvas),dr()):Lt(a)):(u.parentNode.insertBefore(a,u),u.parentNode.removeChild(u),dt?(typeof SDL<"u"&&(w[SDL.screen>>2]=C[SDL.screen>>2]&-8388609),Lt(r.canvas),dr()):Lt(a)),r.onFullScreen&&r.onFullScreen(kt),r.onFullscreen&&r.onFullscreen(kt)}Ht=e,dt=t,typeof Ht>"u"&&(Ht=!0),typeof dt>"u"&&(dt=!1);var a=r.canvas;qr||(qr=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var _=document.createElement("div");a.parentNode.insertBefore(_,a),_.appendChild(a),_.requestFullscreen=_.requestFullscreen||_.mozRequestFullScreen||_.msRequestFullscreen||(_.webkitRequestFullscreen?function(){_.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(_.webkitRequestFullScreen?function(){_.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),_.requestFullscreen()}function Wi(){return kt?((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0):!1}var zt=0;function lr(e){if(typeof requestAnimationFrame=="function")requestAnimationFrame(e);else{var t=Date.now();if(zt===0)zt=t+16.666666666666668;else for(;t+2>=zt;)zt+=16.666666666666668;setTimeout(e,Math.max(zt-t,0))}}function Hi(e){lr(function(){Je(e)})}function Xr(e,t){setTimeout(function(){Je(e)},t)}function pr(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}var Yi=[];function dr(){var e=r.canvas;Yi.forEach(function(t){t(e.width,e.height)})}function Lt(e,t,i){t&&i?(e.Sd=t,e.xd=i):(t=e.Sd,i=e.xd);var a=t,_=i;if(r.forcedAspectRatio&&0<r.forcedAspectRatio&&(a/_<r.forcedAspectRatio?a=Math.round(_*r.forcedAspectRatio):_=Math.round(a/r.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var u=Math.min(screen.width/a,screen.height/_);a=Math.round(a*u),_=Math.round(_*u)}dt?(e.width!=a&&(e.width=a),e.height!=_&&(e.height=_),typeof e.style<"u"&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),typeof e.style<"u"&&(a!=t||_!=i?(e.style.setProperty("width",a+"px","important"),e.style.setProperty("height",_+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}var jr,Ft,Zr,Mt;function Kr(){return!1}r._emscripten_is_main_browser_thread=Kr;var hr=[];function xe(e,t){C[e>>2]=t,C[e+4>>2]=t/4294967296|0}var It;function mr(e,t,i,a,_){function u(Y){var Re=0,ge=0;Y&&(ge=O.response?O.response.byteLength:0,Re=ot(ge),K.set(new Uint8Array(O.response),Re)),C[e+12>>2]=Re,xe(e+16,ge)}var p=C[e+8>>2];if(p){var k=$(p),z=e+112,T=$(z);T||(T="GET");var M=C[z+52>>2],B=C[z+56>>2],q=!!C[z+60>>2],l=C[z+68>>2],I=C[z+72>>2];p=C[z+76>>2];var G=C[z+80>>2],le=C[z+84>>2];z=C[z+88>>2];var Xe=!!(M&1),Qe=!!(M&2);M=!!(M&64),l=l?$(l):void 0,I=I?$(I):void 0;var Qt=G?$(G):void 0,O=new XMLHttpRequest;if(O.withCredentials=q,O.open(T,k,!M,l,I),M||(O.timeout=B),O.ce=k,O.responseType="arraybuffer",G&&O.overrideMimeType(Qt),p)for(;T=C[p>>2],!(!T||(k=C[p+4>>2],!k));)p+=8,T=$(T),k=$(k),O.setRequestHeader(T,k);hr.push(O),C[e+0>>2]=hr.length,p=le&&z?K.slice(le,le+z):null,O.onload=function(Y){u(Xe&&!Qe);var Re=O.response?O.response.byteLength:0;xe(e+24,0),Re&&xe(e+32,Re),J[e+40>>1]=O.readyState,J[e+42>>1]=O.status,O.statusText&&L(O.statusText,K,e+44,64),200<=O.status&&300>O.status?t&&t(e,O,Y):i(e,O,Y)},O.onerror=function(Y){u(Xe);var Re=O.status;xe(e+24,0),xe(e+32,O.response?O.response.byteLength:0),J[e+40>>1]=O.readyState,J[e+42>>1]=Re,i(e,O,Y)},O.ontimeout=function(Y){i(e,O,Y)},O.onprogress=function(Y){var Re=Xe&&Qe&&O.response?O.response.byteLength:0,ge=0;Xe&&Qe&&(ge=ot(Re),K.set(new Uint8Array(O.response),ge)),C[e+12>>2]=ge,xe(e+16,Re),xe(e+24,Y.loaded-Re),xe(e+32,Y.total),J[e+40>>1]=O.readyState,3<=O.readyState&&O.status===0&&0<Y.loaded&&(O.status=200),J[e+42>>1]=O.status,O.statusText&&L(O.statusText,K,e+44,64),a(e,O,Y),ge&&sn(ge)},O.onreadystatechange=function(Y){J[e+40>>1]=O.readyState,2<=O.readyState&&(J[e+42>>1]=O.status),_(e,O,Y)};try{O.send(p)}catch(Y){i(e,O,Y)}}else i(e,0,"no url specified!")}function Jr(e,t,i,a){var _=It;if(_){var u=C[e+112+64>>2];u||(u=C[e+8>>2]);var p=$(u);try{var k=_.transaction(["FILES"],"readwrite").objectStore("FILES").put(t,p);k.onsuccess=function(){J[e+40>>1]=4,J[e+42>>1]=200,L("OK",K,e+44,64),i(e,0,p)},k.onerror=function(z){J[e+40>>1]=4,J[e+42>>1]=413,L("Payload Too Large",K,e+44,64),a(e,0,z)}}catch(z){a(e,0,z)}}else a(e,0,"IndexedDB not available!")}function qi(e,t,i){var a=It;if(a){var _=C[e+112+64>>2];_||(_=C[e+8>>2]),_=$(_);try{var u=a.transaction(["FILES"],"readonly").objectStore("FILES").get(_);u.onsuccess=function(p){if(p.target.result){p=p.target.result;var k=p.byteLength||p.length,z=ot(k);K.set(new Uint8Array(p),z),C[e+12>>2]=z,xe(e+16,k),xe(e+24,0),xe(e+32,k),J[e+40>>1]=4,J[e+42>>1]=200,L("OK",K,e+44,64),t(e,0,p)}else J[e+40>>1]=4,J[e+42>>1]=404,L("Not Found",K,e+44,64),i(e,0,"no data")},u.onerror=function(p){J[e+40>>1]=4,J[e+42>>1]=404,L("Not Found",K,e+44,64),i(e,0,p)}}catch(p){i(e,0,p)}}else i(e,0,"IndexedDB not available!")}function Xi(e,t,i){var a=It;if(a){var _=C[e+112+64>>2];_||(_=C[e+8>>2]),_=$(_);try{var u=a.transaction(["FILES"],"readwrite").objectStore("FILES").delete(_);u.onsuccess=function(p){p=p.target.result,C[e+12>>2]=0,xe(e+16,0),xe(e+24,0),xe(e+32,0),J[e+40>>1]=4,J[e+42>>1]=200,L("OK",K,e+44,64),t(e,0,p)},u.onerror=function(p){J[e+40>>1]=4,J[e+42>>1]=404,L("Not Found",K,e+44,64),i(e,0,p)}}catch(p){i(e,0,p)}}else i(e,0,"IndexedDB not available!")}var Qr={};function $r(){if(!wr){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:W||"./this.program"},t;for(t in Qr)e[t]=Qr[t];var i=[];for(t in e)i.push(t+"="+e[t]);wr=i}return wr}var wr;function ji(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(i,a){t.vertexAttribDivisorANGLE(i,a)},e.drawArraysInstanced=function(i,a,_,u){t.drawArraysInstancedANGLE(i,a,_,u)},e.drawElementsInstanced=function(i,a,_,u,p){t.drawElementsInstancedANGLE(i,a,_,u,p)})}function Zi(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(i){t.deleteVertexArrayOES(i)},e.bindVertexArray=function(i){t.bindVertexArrayOES(i)},e.isVertexArray=function(i){return t.isVertexArrayOES(i)})}function Ki(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(i,a){t.drawBuffersWEBGL(i,a)})}var Ji=1,br=[],Yt=[];function ei(e){for(var t=Ji++,i=e.length;i<t;i++)e[i]=null;return t}function Qi(e,t){e.gd||(e.gd=e.getContext,e.getContext=function(a,_){return _=e.gd(a,_),a=="webgl"==_ instanceof WebGLRenderingContext?_:null});var i=e.getContext("webgl",t);return i?$i(i,t):0}function $i(e,t){var i=ei(Yt),a={Zd:i,attributes:t,version:t.Bd,Xc:e};return e.canvas&&(e.canvas.Td=a),Yt[i]=a,(typeof t.ud>"u"||t.ud)&&en(a),i}function en(e){if(!e.zd){e.zd=!0;var t=e.Xc;ji(t),Zi(t),Ki(t),t.Wd=t.getExtension("EXT_disjoint_timer_query"),t.$d=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach(function(i){0>i.indexOf("lose_context")&&0>i.indexOf("debug")&&t.getExtension(i)})}}var tn={},ti,gr;function qt(e,t){return e=new Date(1e3*w[e>>2]),w[t>>2]=e.getUTCSeconds(),w[t+4>>2]=e.getUTCMinutes(),w[t+8>>2]=e.getUTCHours(),w[t+12>>2]=e.getUTCDate(),w[t+16>>2]=e.getUTCMonth(),w[t+20>>2]=e.getUTCFullYear()-1900,w[t+24>>2]=e.getUTCDay(),w[t+36>>2]=0,w[t+32>>2]=0,w[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,qt.bd||(qt.bd=Ne("GMT")),w[t+40>>2]=qt.bd,t}function rn(){function e(p){return(p=p.toTimeString().match(/\(([A-Za-z ]+)\)$/))?p[1]:"GMT"}if(!ri){ri=!0;var t=new Date().getFullYear(),i=new Date(t,0,1),a=new Date(t,6,1);t=i.getTimezoneOffset();var _=a.getTimezoneOffset(),u=Math.max(t,_);w[_n()>>2]=60*u,w[on()>>2]=+(t!=_),i=e(i),a=e(a),i=Ne(i),a=Ne(a),_<t?(w[Ot()>>2]=i,w[Ot()+4>>2]=a):(w[Ot()>>2]=a,w[Ot()+4>>2]=i)}}var ri;function Xt(e){return e%4===0&&(e%100!==0||e%400===0)}function yr(e,t){for(var i=0,a=0;a<=t;i+=e[a++]);return i}var jt=[31,29,31,30,31,30,31,31,30,31,30,31],Zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Kt(e,t){for(e=new Date(e.getTime());0<t;){var i=e.getMonth(),a=(Xt(e.getFullYear())?jt:Zt)[i];if(t>a-e.getDate())t-=a-e.getDate()+1,e.setDate(1),11>i?e.setMonth(i+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1));else{e.setDate(e.getDate()+t);break}}return e}function nn(e,t,i,a){function _(l,I,G){for(l=typeof l=="number"?l.toString():l||"";l.length<I;)l=G[0]+l;return l}function u(l,I){return _(l,I,"0")}function p(l,I){function G(Xe){return 0>Xe?-1:0<Xe?1:0}var le;return(le=G(l.getFullYear()-I.getFullYear()))===0&&(le=G(l.getMonth()-I.getMonth()))===0&&(le=G(l.getDate()-I.getDate())),le}function k(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function z(l){l=Kt(new Date(l.xc+1900,0,1),l.Vc);var I=new Date(l.getFullYear()+1,0,4),G=k(new Date(l.getFullYear(),0,4));return I=k(I),0>=p(G,l)?0>=p(I,l)?l.getFullYear()+1:l.getFullYear():l.getFullYear()-1}var T=w[a+40>>2];a={Pd:w[a>>2],Od:w[a+4>>2],Tc:w[a+8>>2],Nc:w[a+12>>2],Ic:w[a+16>>2],xc:w[a+20>>2],Uc:w[a+24>>2],Vc:w[a+28>>2],de:w[a+32>>2],Nd:w[a+36>>2],Qd:T?$(T):""},i=$(i),T={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var M in T)i=i.replace(new RegExp(M,"g"),T[M]);var B="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),q="January February March April May June July August September October November December".split(" ");T={"%a":function(l){return B[l.Uc].substring(0,3)},"%A":function(l){return B[l.Uc]},"%b":function(l){return q[l.Ic].substring(0,3)},"%B":function(l){return q[l.Ic]},"%C":function(l){return u((l.xc+1900)/100|0,2)},"%d":function(l){return u(l.Nc,2)},"%e":function(l){return _(l.Nc,2," ")},"%g":function(l){return z(l).toString().substring(2)},"%G":function(l){return z(l)},"%H":function(l){return u(l.Tc,2)},"%I":function(l){return l=l.Tc,l==0?l=12:12<l&&(l-=12),u(l,2)},"%j":function(l){return u(l.Nc+yr(Xt(l.xc+1900)?jt:Zt,l.Ic-1),3)},"%m":function(l){return u(l.Ic+1,2)},"%M":function(l){return u(l.Od,2)},"%n":function(){return`
`},"%p":function(l){return 0<=l.Tc&&12>l.Tc?"AM":"PM"},"%S":function(l){return u(l.Pd,2)},"%t":function(){return"	"},"%u":function(l){return l.Uc||7},"%U":function(l){var I=new Date(l.xc+1900,0,1),G=I.getDay()===0?I:Kt(I,7-I.getDay());return l=new Date(l.xc+1900,l.Ic,l.Nc),0>p(G,l)?u(Math.ceil((31-G.getDate()+(yr(Xt(l.getFullYear())?jt:Zt,l.getMonth()-1)-31)+l.getDate())/7),2):p(G,I)===0?"01":"00"},"%V":function(l){var I=new Date(l.xc+1901,0,4),G=k(new Date(l.xc+1900,0,4));I=k(I);var le=Kt(new Date(l.xc+1900,0,1),l.Vc);return 0>p(le,G)?"53":0>=p(I,le)?"01":u(Math.ceil((G.getFullYear()<l.xc+1900?l.Vc+32-G.getDate():l.Vc+1-G.getDate())/7),2)},"%w":function(l){return l.Uc},"%W":function(l){var I=new Date(l.xc,0,1),G=I.getDay()===1?I:Kt(I,I.getDay()===0?1:7-I.getDay()+1);return l=new Date(l.xc+1900,l.Ic,l.Nc),0>p(G,l)?u(Math.ceil((31-G.getDate()+(yr(Xt(l.getFullYear())?jt:Zt,l.getMonth()-1)-31)+l.getDate())/7),2):p(G,I)===0?"01":"00"},"%y":function(l){return(l.xc+1900).toString().substring(2)},"%Y":function(l){return l.xc+1900},"%z":function(l){l=l.Nd;var I=0<=l;return l=Math.abs(l)/60,(I?"+":"-")+("0000"+(l/60*100+l%60)).slice(-4)},"%Z":function(l){return l.Qd},"%%":function(){return"%"}};for(M in T)0<=i.indexOf(M)&&(i=i.replace(new RegExp(M,"g"),T[M](a)));return M=ni(i,!1),M.length>t?0:(ne.set(M,e),M.length-1)}function ii(e,t,i,a){e||(e=this),this.parent=e,this.Bc=e.Bc,this.Kc=null,this.id=Ye++,this.name=t,this.mode=i,this.qc={},this.sc={},this.Lc=a}Object.defineProperties(ii.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Vr(),he=Array(4096),Cr(A,"/"),Ke("/tmp"),Ke("/home"),Ke("/home/web_user"),function(){Ke("/dev"),_r(259,{read:function(){return 0},write:function(t,i,a,_){return _}}),Bt("/dev/null",259),ce(1280,h),ce(1536,F),Bt("/dev/tty",1280),Bt("/dev/tty1",1536);var e=_e();At("random",e),At("urandom",e),Ke("/dev/shm"),Ke("/dev/shm/tmp")}(),function(){Ke("/proc");var e=Ke("/proc/self");Ke("/proc/self/fd"),Cr({Bc:function(){var t=yt(e,"fd",16895,73);return t.qc={Jc:function(i,a){var _=Te[+a];if(!_)throw new E(8);return i={parent:null,Bc:{kd:"fake"},qc:{Mc:function(){return _.path}}},i.parent=i}},t}},"/proc/self/fd")}(),r.requestFullscreen=function(e,t){Gi(e,t)},r.requestAnimationFrame=function(e){lr(e)},r.setCanvasSize=function(e,t,i){Lt(r.canvas,e,t),i||dr()},r.pauseMainLoop=function(){st=null,Nt++},r.resumeMainLoop=function(){Nt++;var e=Gt,t=Wt,i=xt;xt=null,Bi(i),Si(e,t),st()},r.getUserMedia=function(){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(void 0)},r.createContext=function(e,t,i,a){return Ni(e,t,i,a)},function(e,t){try{var i=indexedDB.open("emscripten_filesystem",1)}catch(a){t(a);return}i.onupgradeneeded=function(a){a=a.target.result,a.objectStoreNames.contains("FILES")&&a.deleteObjectStore("FILES"),a.createObjectStore("FILES")},i.onsuccess=function(a){e(a.target.result)},i.onerror=function(a){t(a)}}(function(e){It=e,it()},function(){It=!1,it()}),typeof ENVIRONMENT_IS_FETCH_WORKER<"u"&&ENVIRONMENT_IS_FETCH_WORKER||He();var ht;function ni(e,t){var i=Array(Ve(e)+1);return e=L(e,i,0,i.length),t&&(i.length=e),i}var an={I:function(e,t){return Ze(e,t)},a:function(e){return ot(e+16)+16},b:function(e,t,i){throw new N(e).yd(t,i),e},e:function(e,t,i){Tt=i;try{var a=at(e);switch(t){case 0:var _=pt();return 0>_?-28:Et(a.path,a.flags,0,_).Cc;case 1:case 2:return 0;case 3:return a.flags;case 4:return _=pt(),a.flags|=_,0;case 12:return _=pt(),ye[_+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return w[ai()>>2]=28,-1;default:return-28}}catch(u){return typeof be<"u"&&u instanceof E||ee(u),-u.vc}},E:function(e,t,i){try{var a=at(e);if(!a.Dc){var _=we(a.path,{Pc:!0}).node;if(!_.qc.Rc)throw new E(54);var u=_.qc.Rc(_);a.Dc=u}e=0;for(var p=Ct(a,0,1),k=Math.floor(p/280);k<a.Dc.length&&e+280<=i;){var z=a.Dc[k];if(z[0]===".")var T=1,M=4;else{var B=qe(a.node,z);T=B.id,M=(B.mode&61440)===8192?2:(B.mode&61440)===16384?4:(B.mode&61440)===40960?10:8}ae=[T>>>0,(V=T,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[t+e>>2]=ae[0],w[t+e+4>>2]=ae[1],ae=[280*(k+1)>>>0,(V=280*(k+1),1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[t+e+8>>2]=ae[0],w[t+e+12>>2]=ae[1],ye[t+e+16>>1]=280,ne[t+e+18>>0]=M,L(z,K,t+e+19,256),e+=280,k+=1}return Ct(a,280*k,0),e}catch(q){return typeof be<"u"&&q instanceof E||ee(q),-q.vc}},n:function(){return 42},G:function(e,t,i){Tt=i;try{var a=at(e);switch(t){case 21509:case 21505:return a.uc?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return a.uc?0:-59;case 21519:if(!a.uc)return-59;var _=pt();return w[_>>2]=0;case 21520:return a.uc?-28:-59;case 21531:if(e=_=pt(),!a.sc.Ad)throw new E(59);return a.sc.Ad(a,t,e);case 21523:return a.uc?0:-59;case 21524:return a.uc?0:-59;default:ee("bad ioctl syscall "+t)}}catch(u){return typeof be<"u"&&u instanceof E||ee(u),-u.vc}},H:function(e,t){try{return e=$(e),Gr(Oi,e,t)}catch(i){return typeof be<"u"&&i instanceof E||ee(i),-i.vc}},p:function(e,t,i){Tt=i;try{var a=$(e),_=i?pt():0;return Et(a,t,_).Cc}catch(u){return typeof be<"u"&&u instanceof E||ee(u),-u.vc}},J:function(e,t){try{return e=$(e),Gr(Ur,e,t)}catch(i){return typeof be<"u"&&i instanceof E||ee(i),-i.vc}},C:function(e,t){try{return e=$(e),t=$(t),Dt(e,t),0}catch(i){return typeof be<"u"&&i instanceof E||ee(i),-i.vc}},K:function(e){try{if(!e)return-21;var t={__size__:390,domainname:325,machine:260,nodename:65,release:130,sysname:0,version:195};return pe("Emscripten",e+t.sysname),pe("emscripten",e+t.nodename),pe("1.0",e+t.release),pe("#1",e+t.version),pe("wasm32",e+t.machine),0}catch(i){return typeof be<"u"&&i instanceof E||ee(i),-i.vc}},D:function(e){try{e=$(e);var t=we(e,{parent:!0}).node,i=P(e),a=qe(t,i);e:{try{var _=qe(t,i)}catch(T){var u=T.vc;break e}var p=lt(t,"wx");u=p||((_.mode&61440)===16384?31:0)}if(u)throw new E(u);if(!t.qc.Wc)throw new E(63);if(a.Kc)throw new E(10);try{Ie.willDeletePath&&Ie.willDeletePath(e)}catch(T){m("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+T.message)}t.qc.Wc(t,i);var k=ft(a.parent.id,a.name);if(he[k]===a)he[k]=a.Fc;else for(var z=he[k];z;){if(z.Fc===a){z.Fc=a.Fc;break}z=z.Fc}try{Ie.onDeletePath&&Ie.onDeletePath(e)}catch(T){m("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+T.message)}return 0}catch(T){return typeof be<"u"&&T instanceof E||ee(T),-T.vc}},L:function(e){delete hr[e-1]},c:function(){ee()},h:Ze,P:function(e,t){return e-t},R:function(){self.postMessage({t:"gfx"})},t:function(){var e=new URL(location.origin).hostname;if(e.length===0&&(e=new URL(location.href.replace("blob:","")).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))e.indexOf("10.")===0&&(e="10.*"),e.indexOf("192.168.")===0&&(e="192.168.*"),e.indexOf("172.")===0&&(e="172.*"),e.indexOf("127.")===0&&(e="127.*");else{var t=new RegExp("(\\.ngrok\\.io)$","i");t.test(e)&&(e="*.ngrok.io"),t=new RegExp("(\\.ngrok-free\\.app)$","i"),t.test(e)&&(e="*.ngrok.io"),t=new RegExp("(\\.arweb\\.app)$","i"),t.test(e)&&(e="*.arweb.app")}t=Ve(e)+1;var i=ot(t);return L(e,K,i,t+1),i},s:function(){self.postMessage({t:"licerr"})},l:function(e,t,i){function a(){de.get(e)(t)}0<=i?Xr(a,i):Hi(a)},x:function(){return 2147483648},N:Kr,v:function(e,t,i){K.copyWithin(e,t,t+i)},w:function(e){var t=K.length;if(2147483648<e)return!1;for(var i=1;4>=i;i*=2){var a=t*(1+.2/i);a=Math.min(a,e+100663296),a=Math.max(e,a),0<a%65536&&(a+=65536-a%65536);e:{try{se.grow(Math.min(2147483648,a)-Fe.byteLength+65535>>>16),Ge();var _=1;break e}catch{}_=void 0}if(_)return!0}return!1},M:function(e,t,i,a,_){function u(Y){mr(Y,p,T,M,z)}function p(Y,Re){Jr(Y,Re.response,function(ge){Je(function(){I?de.get(I)(ge):t&&t(ge)})},function(ge){Je(function(){I?de.get(I)(ge):t&&t(ge)})})}function k(Y){mr(Y,B,T,M,z)}function z(Y){Je(function(){Xe?de.get(Xe)(Y):_&&_(Y)})}function T(Y){Je(function(){G?de.get(G)(Y):i&&i(Y)})}function M(Y){Je(function(){le?de.get(le)(Y):a&&a(Y)})}function B(Y){Je(function(){I?de.get(I)(Y):t&&t(Y)})}var q=e+112,l=$(q),I=C[q+36>>2],G=C[q+40>>2],le=C[q+44>>2],Xe=C[q+48>>2],Qe=C[q+52>>2],Qt=!!(Qe&4),O=!!(Qe&32);if(Qe=!!(Qe&16),l==="EM_IDB_STORE")l=C[q+84>>2],Jr(e,K.slice(l,l+C[q+88>>2]),B,T);else if(l==="EM_IDB_DELETE")Xi(e,B,T);else if(Qe){if(O)return 0;mr(e,Qt?p:B,T,M,z)}else qi(e,B,O?T:Qt?u:k);return e},A:function(e,t){try{var i=0;return $r().forEach(function(a,_){var u=t+i;w[e+4*_>>2]=u,pe(a,u),i+=a.length+1}),0}catch(a){return typeof be<"u"&&a instanceof E||ee(a),a.vc}},B:function(e,t){try{var i=$r();w[e>>2]=i.length;var a=0;return i.forEach(function(_){a+=_.length+1}),w[t>>2]=a,0}catch(_){return typeof be<"u"&&_ instanceof E||ee(_),_.vc}},O:function(e){oi(e)},g:function(e){try{var t=at(e);if(t.Cc===null)throw new E(8);t.Dc&&(t.Dc=null);try{t.sc.close&&t.sc.close(t)}catch(i){throw i}finally{Te[t.Cc]=null}return t.Cc=null,0}catch(i){return typeof be<"u"&&i instanceof E||ee(i),i.vc}},F:function(e,t,i,a){try{e:{for(var _=at(e),u=e=0;u<i;u++){var p=w[t+(8*u+4)>>2],k=_,z=w[t+8*u>>2],T=p,M=void 0,B=ne;if(0>T||0>M)throw new E(28);if(k.Cc===null)throw new E(8);if((k.flags&2097155)===1)throw new E(8);if((k.node.mode&61440)===16384)throw new E(31);if(!k.sc.read)throw new E(28);var q=typeof M<"u";if(!q)M=k.position;else if(!k.seekable)throw new E(70);var l=k.sc.read(k,B,z,T,M);q||(k.position+=l);var I=l;if(0>I){var G=-1;break e}if(e+=I,I<p)break}G=e}return w[a>>2]=G,0}catch(le){return typeof be<"u"&&le instanceof E||ee(le),le.vc}},u:function(e,t,i,a,_){try{var u=at(e);return e=4294967296*i+(t>>>0),-9007199254740992>=e||9007199254740992<=e?-61:(Ct(u,e,a),ae=[u.position>>>0,(V=u.position,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[_>>2]=ae[0],w[_+4>>2]=ae[1],u.Dc&&e===0&&a===0&&(u.Dc=null),0)}catch(p){return typeof be<"u"&&p instanceof E||ee(p),p.vc}},k:function(e,t,i,a){try{e:{for(var _=at(e),u=e=0;u<i;u++){var p=_,k=w[t+8*u>>2],z=w[t+(8*u+4)>>2],T=void 0,M=ne;if(0>z||0>T)throw new E(28);if(p.Cc===null)throw new E(8);if(!(p.flags&2097155))throw new E(8);if((p.node.mode&61440)===16384)throw new E(31);if(!p.sc.write)throw new E(28);p.seekable&&p.flags&1024&&Ct(p,0,2);var B=typeof T<"u";if(!B)T=p.position;else if(!p.seekable)throw new E(70);var q=p.sc.write(p,M,k,z,T,void 0);B||(p.position+=q);try{p.path&&Ie.onWriteToFile&&Ie.onWriteToFile(p.path)}catch(G){m("FS.trackingDelegate['onWriteToFile']('"+p.path+"') threw an exception: "+G.message)}var l=q;if(0>l){var I=-1;break e}e+=l}I=e}return w[a>>2]=I,0}catch(G){return typeof be<"u"&&G instanceof E||ee(G),G.vc}},f:function(e){var t=Date.now();return w[e>>2]=t/1e3|0,w[e+4>>2]=t%1e3*1e3|0,0},m:function(e,t){ht.bindTexture(e,br[t])},o:function(e,t){for(var i=0;i<e;i++){var a=ht.createTexture(),_=a&&ei(br);a?(a.name=_,br[_]=a):ti||(ti=1282),w[t+4*i>>2]=_}},i:function(e,t,i,a,_,u,p,k,z){var T=ht,M=T.texImage2D;if(z){var B=k-5120;B=B==1?K:B==4?w:B==6?Pe:B==5||B==28922?C:J;var q=31-Math.clz32(B.BYTES_PER_ELEMENT);z=B.subarray(z>>q,z+_*(a*({5:3,6:4,8:2,29502:3,29504:4}[p-6402]||1)*(1<<q)+4-1&-4)>>q)}else z=null;M.call(T,e,t,i,a,_,u,p,k,z)},j:function(e,t,i){ht.texParameteri(e,t,i)},r:qt,q:function(e,t){rn(),e=new Date(1e3*w[e>>2]),w[t>>2]=e.getSeconds(),w[t+4>>2]=e.getMinutes(),w[t+8>>2]=e.getHours(),w[t+12>>2]=e.getDate(),w[t+16>>2]=e.getMonth(),w[t+20>>2]=e.getFullYear()-1900,w[t+24>>2]=e.getDay();var i=new Date(e.getFullYear(),0,1);w[t+28>>2]=(e.getTime()-i.getTime())/864e5|0,w[t+36>>2]=-(60*e.getTimezoneOffset());var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();return i=i.getTimezoneOffset(),e=(a!=i&&e.getTimezoneOffset()==Math.min(i,a))|0,w[t+32>>2]=e,e=w[Ot()+(e?4:0)>>2],w[t+40>>2]=e,t},Q:function(){return 6},y:function(){return 28},z:function(e,t,i,a){return nn(e,t,i,a)},d:function(e){var t=Date.now()/1e3|0;return e&&(w[e>>2]=t),t}},d=function(){function e(i){r.asm=i.exports,se=r.asm.S,Ge(),de=r.asm.X,ze.unshift(r.asm.T),it()}var t={a:an};if(He(),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(i){return m("Module.instantiateWasm callback failed with error: "+i),!1}return t=gt(t),e(t[0]),r.asm}();r.___wasm_call_ctors=d.T,r._zappar_has_initialized=d.U,r._zappar_invert=d.V,r._zappar_loaded=d.W,r._zappar_pipeline_create=d.Y,r._zappar_pipeline_destroy=d.Z,r._zappar_pipeline_camera_frame_submit=d._,r._zappar_pipeline_camera_frame_submit_raw_pointer=d.$,r._zappar_pipeline_frame_update=d.aa,r._zappar_pipeline_camera_frame_user_data=d.ba,r._zappar_pipeline_camera_model=d.ca,r._zappar_pipeline_frame_number=d.da,r._zappar_pipeline_motion_accelerometer_submit=d.ea,r._zappar_pipeline_motion_rotation_rate_submit=d.fa,r._zappar_pipeline_motion_attitude_submit=d.ga,r._zappar_pipeline_motion_attitude_matrix_submit=d.ha,r._zappar_pipeline_camera_frame_user_facing=d.ia,r._zappar_pipeline_camera_frame_texture_matrix=d.ja,r._zappar_pipeline_camera_pose_with_attitude=d.ka,r._zappar_pipeline_camera_pose_with_origin=d.la,r._zappar_pipeline_camera_frame_camera_attitude=d.ma,r._zappar_pipeline_camera_frame_device_attitude=d.na,r._zappar_pipeline_camera_frame_texture_gl=d.oa,r._zappar_pipeline_camera_frame_upload_gl=d.pa,r._zappar_pipeline_sequence_record_start=d.qa,r._zappar_pipeline_sequence_record_stop=d.ra,r._zappar_pipeline_sequence_record_clear=d.sa,r._zappar_pipeline_sequence_record_device_attitude_matrices_set=d.ta,r._zappar_pipeline_sequence_record_data_size=d.ua,r._zappar_pipeline_sequence_record_data=d.va,r._zappar_pipeline_process_gl=d.wa,r._zappar_pipeline_camera_pose_default=d.xa,r._zappar_instant_world_tracker_create=d.ya,r._zappar_instant_world_tracker_destroy=d.za,r._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=d.Aa,r._zappar_instant_world_tracker_anchor_pose_raw=d.Ba,r._zappar_instant_world_tracker_enabled_set=d.Ca,r._zappar_instant_world_tracker_enabled=d.Da,r._zappar_image_tracker_create=d.Ea,r._zappar_image_tracker_destroy=d.Fa,r._zappar_image_tracker_target_load_from_memory=d.Ga,r.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=d.Ha;var sn=r._free=d.Ia;r._zappar_image_tracker_anchor_count=d.Ja,r._zappar_image_tracker_anchor_id=d.Ka,r._zappar_image_tracker_anchor_pose_raw=d.La,r._zappar_image_tracker_enabled_set=d.Ma,r._zappar_image_tracker_enabled=d.Na,r._zappar_image_tracker_target_loaded_version=d.Oa,r.__Z33zappar_image_tracker_target_countP23zappar_image_tracker_ti=d.Pa,r.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=d.Qa,r.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=d.Ra,r.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=d.Sa,r.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=d.Ta,r.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=d.Ua,r.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=d.Va,r.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=d.Wa,r.__Z38zappar_image_tracker_target_radius_topP23zappar_image_tracker_tii=d.Xa,r.__Z41zappar_image_tracker_target_radius_bottomP23zappar_image_tracker_tii=d.Ya,r.__Z39zappar_image_tracker_target_side_lengthP23zappar_image_tracker_tii=d.Za,r.__Z49zappar_image_tracker_target_physical_scale_factorP23zappar_image_tracker_tii=d._a,r.__Z49zappar_image_tracker_target_preview_mesh_verticesP23zappar_image_tracker_tii=d.$a,r.__Z48zappar_image_tracker_target_preview_mesh_normalsP23zappar_image_tracker_tii=d.ab,r.__Z44zappar_image_tracker_target_preview_mesh_uvsP23zappar_image_tracker_tii=d.bb,r.__Z48zappar_image_tracker_target_preview_mesh_indicesP23zappar_image_tracker_tii=d.cb,r.__Z54zappar_image_tracker_target_preview_mesh_vertices_sizeP23zappar_image_tracker_tii=d.db,r.__Z53zappar_image_tracker_target_preview_mesh_normals_sizeP23zappar_image_tracker_tii=d.eb,r.__Z49zappar_image_tracker_target_preview_mesh_uvs_sizeP23zappar_image_tracker_tii=d.fb,r.__Z53zappar_image_tracker_target_preview_mesh_indices_sizeP23zappar_image_tracker_tii=d.gb,r.__Z32zappar_image_tracker_target_typeP23zappar_image_tracker_tii=d.hb,r._zappar_face_tracker_create=d.ib,r._zappar_face_tracker_destroy=d.jb,r._zappar_face_tracker_model_load_from_memory=d.kb,r._zappar_face_tracker_anchor_count=d.lb,r._zappar_face_tracker_anchor_id=d.mb,r._zappar_face_tracker_anchor_pose_raw=d.nb,r._zappar_face_tracker_anchor_identity_coefficients=d.ob,r._zappar_face_tracker_anchor_expression_coefficients=d.pb,r._zappar_face_tracker_enabled_set=d.qb,r._zappar_face_tracker_enabled=d.rb,r._zappar_face_tracker_max_faces_set=d.sb,r._zappar_face_tracker_max_faces=d.tb,r._zappar_face_tracker_model_loaded_version=d.ub,r._zappar_face_landmark_create=d.vb,r._zappar_face_landmark_destroy=d.wb,r.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=d.xb,r._zappar_face_landmark_anchor_pose=d.yb,r._zappar_barcode_finder_create=d.zb,r._zappar_barcode_finder_destroy=d.Ab,r._zappar_barcode_finder_found_number=d.Bb,r._zappar_barcode_finder_found_text=d.Cb,r._zappar_barcode_finder_enabled_set=d.Db,r._zappar_barcode_finder_enabled=d.Eb,r._zappar_barcode_finder_found_format=d.Fb,r._zappar_barcode_finder_formats=d.Gb,r._zappar_barcode_finder_formats_set=d.Hb;var ot=r._malloc=d.Ib;r._zappar_face_mesh_create=d.Jb,r._zappar_face_mesh_destroy=d.Kb,r.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=d.Lb,r.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=d.Mb,r.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=d.Nb,r.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=d.Ob,r.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=d.Pb,r.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=d.Qb,r.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=d.Rb,r.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=d.Sb,r.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=d.Tb,r.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=d.Ub,r.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=d.Vb,r._zappar_camera_source_create=d.Wb,r._zappar_camera_source_destroy=d.Xb,r._zappar_camera_source_start=d.Yb,r._zappar_camera_source_pause=d.Zb,r._zappar_camera_default_device_id=d._b,r._zappar_sequence_source_create=d.$b,r.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=d.ac,r.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=d.bc,r.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=d.cc,r._zappar_sequence_source_destroy=d.dc,r._zappar_sequence_source_max_playback_fps_set=d.ec,r._zappar_log_level_set=d.fc,r._zappar_log_level=d.gc,r.__Z23zappar_log_redirect_setPFv18zappar_log_level_tPKcE=d.hc,r._zappar_analytics_project_id_set=d.ic;var ai=r.___errno_location=d.jc,Ot=r.__get_tzname=d.kc,on=r.__get_daylight=d.lc,_n=r.__get_timezone=d.mc,cn=r.stackSave=d.nc,un=r.stackRestore=d.oc,si=r.stackAlloc=d.pc;r.cwrap=function(e,t,i,a){i=i||[];var _=i.every(function(u){return u==="number"});return t!=="string"&&_&&!a?oe(e):function(){return Oe(e,t,i,arguments)}},r.setValue=function(e,t,i){switch(i=i||"i8",i.charAt(i.length-1)==="*"&&(i="i32"),i){case"i1":ne[e>>0]=t;break;case"i8":ne[e>>0]=t;break;case"i16":ye[e>>1]=t;break;case"i32":w[e>>2]=t;break;case"i64":ae=[t>>>0,(V=t,1<=+Math.abs(V)?0<V?(Math.min(+Math.floor(V/4294967296),4294967295)|0)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],w[e>>2]=ae[0],w[e+4>>2]=ae[1];break;case"float":Pe[e>>2]=t;break;case"double":Me[e>>3]=t;break;default:ee("invalid type for setValue: "+i)}},r.getValue=function(e,t){switch(t=t||"i8",t.charAt(t.length-1)==="*"&&(t="i32"),t){case"i1":return ne[e>>0];case"i8":return ne[e>>0];case"i16":return ye[e>>1];case"i32":return w[e>>2];case"i64":return w[e>>2];case"float":return Pe[e>>2];case"double":return Me[e>>3];default:ee("invalid type for getValue: "+t)}return null},r.UTF8ToString=$;var Jt;function vr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}We=function e(){Jt||Er(),Jt||(We=e)};function Er(){function e(){if(!Jt&&(Jt=!0,r.calledRun=!0,!ue)){if(r.noFSInit||Nr||(Nr=!0,Vr(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?At("stdin",r.stdin):Dt("/dev/tty","/dev/stdin"),r.stdout?At("stdout",null,r.stdout):Dt("/dev/tty","/dev/stdout"),r.stderr?At("stderr",null,r.stderr):Dt("/dev/tty1","/dev/stderr"),Et("/dev/stdin",0),Et("/dev/stdout",1),Et("/dev/stderr",1)),fe(ze),De=!1,fe(tt),c(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;){var t=r.postRun.shift();rt.unshift(t)}fe(rt)}}if(!(0<Ee)){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)bt();fe(ve),0<Ee||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),e()},1)):e())}}r.run=Er;function oi(e){D=e,R||(r.onExit&&r.onExit(e),ue=!0),ie(e,new vr(e))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Er(),o}}();function ci(s){let o=s.cwrap("zappar_log_level","number",[]),r=s.cwrap("zappar_log_level_set",null,["number"]),c=s.cwrap("zappar_analytics_project_id_set",null,["string","string"]),f=s.cwrap("zappar_pipeline_create","number",[]),n=s.cwrap("zappar_pipeline_destroy",null,["number"]),g=s.cwrap("zappar_pipeline_frame_update",null,["number"]),W=s.cwrap("zappar_pipeline_frame_number","number",["number"]),ie=s.cwrap("zappar_pipeline_camera_model","number",["number"]),Z=s.cwrap("zappar_pipeline_camera_frame_user_data","number",["number"]),te=s.cwrap("zappar_pipeline_camera_frame_submit",null,["number","number","number","number","number","number","number","number","number"]),me=s.cwrap("zappar_pipeline_camera_frame_submit_raw_pointer",null,["number","number","number","number","number","number","number","number","number","number","number"]),m=s.cwrap("zappar_pipeline_camera_frame_camera_attitude","number",["number"]),x=s.cwrap("zappar_pipeline_camera_frame_device_attitude","number",["number"]),y=s.cwrap("zappar_pipeline_motion_accelerometer_submit",null,["number","number","number","number","number"]),v=s.cwrap("zappar_pipeline_motion_rotation_rate_submit",null,["number","number","number","number","number"]),R=s.cwrap("zappar_pipeline_motion_attitude_submit",null,["number","number","number","number","number"]),se=s.cwrap("zappar_pipeline_motion_attitude_matrix_submit",null,["number","number"]),ue=s.cwrap("zappar_camera_source_create","number",["number","string"]),D=s.cwrap("zappar_camera_source_destroy",null,["number"]),S=s.cwrap("zappar_sequence_source_create","number",["number"]),oe=s.cwrap("zappar_sequence_source_destroy",null,["number"]),Oe=s.cwrap("zappar_image_tracker_create","number",["number"]),je=s.cwrap("zappar_image_tracker_destroy",null,["number"]),ke=s.cwrap("zappar_image_tracker_target_load_from_memory",null,["number","number","number"]),$=s.cwrap("zappar_image_tracker_target_loaded_version","number",["number"]),L=s.cwrap("zappar_image_tracker_enabled","number",["number"]),Ve=s.cwrap("zappar_image_tracker_enabled_set",null,["number","number"]),Ne=s.cwrap("zappar_image_tracker_anchor_count","number",["number"]),pe=s.cwrap("zappar_image_tracker_anchor_id","string",["number","number"]),Fe=s.cwrap("zappar_image_tracker_anchor_pose_raw","number",["number","number"]),ne=s.cwrap("zappar_face_tracker_create","number",["number"]),K=s.cwrap("zappar_face_tracker_destroy",null,["number"]),ye=s.cwrap("zappar_face_tracker_model_load_from_memory",null,["number","number","number"]),J=s.cwrap("zappar_face_tracker_model_loaded_version","number",["number"]),w=s.cwrap("zappar_face_tracker_enabled_set",null,["number","number"]),C=s.cwrap("zappar_face_tracker_enabled","number",["number"]),Pe=s.cwrap("zappar_face_tracker_max_faces_set",null,["number","number"]),Me=s.cwrap("zappar_face_tracker_max_faces","number",["number"]),Ge=s.cwrap("zappar_face_tracker_anchor_count","number",["number"]),de=s.cwrap("zappar_face_tracker_anchor_id","string",["number","number"]),ve=s.cwrap("zappar_face_tracker_anchor_pose_raw","number",["number","number"]),ze=s.cwrap("zappar_face_tracker_anchor_identity_coefficients","number",["number","number"]),tt=s.cwrap("zappar_face_tracker_anchor_expression_coefficients","number",["number","number"]),rt=s.cwrap("zappar_face_mesh_create","number",[]),bt=s.cwrap("zappar_face_mesh_destroy",null,["number"]),Ee=s.cwrap("zappar_face_landmark_create","number",["number"]),We=s.cwrap("zappar_face_landmark_destroy",null,["number"]),He=s.cwrap("zappar_barcode_finder_create","number",["number"]),it=s.cwrap("zappar_barcode_finder_destroy",null,["number"]),ee=s.cwrap("zappar_barcode_finder_enabled_set",null,["number","number"]),Ae=s.cwrap("zappar_barcode_finder_enabled","number",["number"]),$e=s.cwrap("zappar_barcode_finder_found_number","number",["number"]),gt=s.cwrap("zappar_barcode_finder_found_text","string",["number","number"]),V=s.cwrap("zappar_barcode_finder_found_format","number",["number","number"]),ae=s.cwrap("zappar_barcode_finder_formats","number",["number"]),fe=s.cwrap("zappar_barcode_finder_formats_set",null,["number","number"]),Le=s.cwrap("zappar_instant_world_tracker_create","number",["number"]),Ze=s.cwrap("zappar_instant_world_tracker_destroy",null,["number"]),N=s.cwrap("zappar_instant_world_tracker_enabled_set",null,["number","number"]),H=s.cwrap("zappar_instant_world_tracker_enabled","number",["number"]),U=s.cwrap("zappar_instant_world_tracker_anchor_pose_raw","number",["number"]),re=s.cwrap("zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw",null,["number","number","number","number","number"]),P=32,_e=s._malloc(P),X=16*4;s._malloc(X);let Se=new Map,ce=(b,h)=>{let F=Se.get(b);return(!F||F[0]<h)&&(F&&s._free(F[1]),F=[h,s._malloc(h)],Se.set(b,F)),F[1]};return{log_level:()=>o(),log_level_set:b=>r(b),analytics_project_id_set:(b,h)=>c(b,h),pipeline_create:()=>f(),pipeline_destroy:()=>{n()},pipeline_frame_update:b=>g(b),pipeline_frame_number:b=>W(b),pipeline_camera_model:b=>{let h=ie(b),F=new Float32Array(6);return F.set(s.HEAPF32.subarray(h/4,6+h/4)),h=F,h},pipeline_camera_frame_user_data:b=>Z(b),pipeline_camera_frame_submit:(b,h,F,A,Q,Be,Te,Ye)=>{P<h.byteLength&&(s._free(_e),P=h.byteLength,_e=s._malloc(P));let he=_e,De=h.byteLength;s.HEAPU8.set(new Uint8Array(h),_e);let Ie=F,E=A,nt=Q,we=ce(4,Be.byteLength);s.HEAPF32.set(Be,we/4);let et=ce(5,Te.byteLength);return s.HEAPF32.set(Te,et/4),te(b,he,De,Ie,E,nt,we,et,Ye?1:0)},pipeline_camera_frame_submit_raw_pointer:(b,h,F,A,Q,Be,Te,Ye,he,De,Ie)=>{let E=h,nt=F,we=A,et=Q,ft=Be,qe=Te,yt=ce(6,Ye.byteLength);s.HEAPF32.set(Ye,yt/4);let sr=he,vt=ce(8,De.byteLength);return s.HEAPF32.set(De,vt/4),me(b,E,nt,we,et,ft,qe,yt,sr,vt,Ie?1:0)},pipeline_camera_frame_camera_attitude:b=>{let h=m(b),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},pipeline_camera_frame_device_attitude:b=>{let h=x(b),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},pipeline_motion_accelerometer_submit:(b,h,F,A,Q)=>y(b,h,F,A,Q),pipeline_motion_rotation_rate_submit:(b,h,F,A,Q)=>v(b,h,F,A,Q),pipeline_motion_attitude_submit:(b,h,F,A,Q)=>R(b,h,F,A,Q),pipeline_motion_attitude_matrix_submit:(b,h)=>{let F=ce(0,h.byteLength);return s.HEAPF32.set(h,F/4),se(b,F)},camera_source_create:(b,h)=>ue(b,h),camera_source_destroy:()=>{D()},sequence_source_create:b=>S(b),sequence_source_destroy:()=>{oe()},image_tracker_create:b=>Oe(b),image_tracker_destroy:()=>{je()},image_tracker_target_load_from_memory:(b,h)=>{P<h.byteLength&&(s._free(_e),P=h.byteLength,_e=s._malloc(P));let F=_e,A=h.byteLength;return s.HEAPU8.set(new Uint8Array(h),_e),ke(b,F,A)},image_tracker_target_loaded_version:b=>$(b),image_tracker_enabled:b=>{let h=L(b);return h=h===1,h},image_tracker_enabled_set:(b,h)=>Ve(b,h?1:0),image_tracker_anchor_count:b=>Ne(b),image_tracker_anchor_id:(b,h)=>pe(b,h),image_tracker_anchor_pose_raw:(b,h)=>{let A=Fe(b,h),Q=new Float32Array(16);return Q.set(s.HEAPF32.subarray(A/4,16+A/4)),A=Q,A},face_tracker_create:b=>ne(b),face_tracker_destroy:()=>{K()},face_tracker_model_load_from_memory:(b,h)=>{P<h.byteLength&&(s._free(_e),P=h.byteLength,_e=s._malloc(P));let F=_e,A=h.byteLength;return s.HEAPU8.set(new Uint8Array(h),_e),ye(b,F,A)},face_tracker_model_loaded_version:b=>J(b),face_tracker_enabled_set:(b,h)=>w(b,h?1:0),face_tracker_enabled:b=>{let h=C(b);return h=h===1,h},face_tracker_max_faces_set:(b,h)=>Pe(b,h),face_tracker_max_faces:b=>Me(b),face_tracker_anchor_count:b=>Ge(b),face_tracker_anchor_id:(b,h)=>de(b,h),face_tracker_anchor_pose_raw:(b,h)=>{let A=ve(b,h),Q=new Float32Array(16);return Q.set(s.HEAPF32.subarray(A/4,16+A/4)),A=Q,A},face_tracker_anchor_identity_coefficients:(b,h)=>{let A=ze(b,h),Q=new Float32Array(50);return Q.set(s.HEAPF32.subarray(A/4,50+A/4)),A=Q,A},face_tracker_anchor_expression_coefficients:(b,h)=>{let A=tt(b,h),Q=new Float32Array(29);return Q.set(s.HEAPF32.subarray(A/4,29+A/4)),A=Q,A},face_mesh_create:()=>rt(),face_mesh_destroy:()=>{bt()},face_landmark_create:b=>Ee(b),face_landmark_destroy:()=>{We()},barcode_finder_create:b=>He(b),barcode_finder_destroy:()=>{it()},barcode_finder_enabled_set:(b,h)=>ee(b,h?1:0),barcode_finder_enabled:b=>{let h=Ae(b);return h=h===1,h},barcode_finder_found_number:b=>$e(b),barcode_finder_found_text:(b,h)=>gt(b,h),barcode_finder_found_format:(b,h)=>V(b,h),barcode_finder_formats:b=>ae(b),barcode_finder_formats_set:(b,h)=>fe(b,h),instant_world_tracker_create:b=>Le(b),instant_world_tracker_destroy:()=>{Ze()},instant_world_tracker_enabled_set:(b,h)=>N(b,h?1:0),instant_world_tracker_enabled:b=>{let h=H(b);return h=h===1,h},instant_world_tracker_anchor_pose_raw:b=>{let h=U(b),F=new Float32Array(16);return F.set(s.HEAPF32.subarray(h/4,16+h/4)),h=F,h},instant_world_tracker_anchor_pose_set_from_camera_offset_raw:(b,h,F,A,Q)=>re(b,h,F,A,Q)}}class ui{constructor(o){this._messageSender=o,this._freeBufferPool=[],this._buffer=new ArrayBuffer(16),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1,this._timeoutSet=!1,this._appender={int:r=>this.int(r),bool:r=>this.int(r?1:0),float:r=>this.float(r),string:r=>this.string(r),dataWithLength:r=>this.arrayBuffer(r),type:r=>this.int(r),matrix4x4:r=>this.float32ArrayBuffer(r),matrix3x3:r=>this.float32ArrayBuffer(r),identityCoefficients:r=>this.float32ArrayBuffer(r),expressionCoefficients:r=>this.float32ArrayBuffer(r),cameraModel:r=>this.float32ArrayBuffer(r),timestamp:r=>this.double(r),barcodeFormat:r=>this.int(r),faceLandmarkName:r=>this.int(r),instantTrackerTransformOrientation:r=>this.int(r),logLevel:r=>this.int(r)},this._freeBufferPool.push(new ArrayBuffer(16)),this._freeBufferPool.push(new ArrayBuffer(16))}bufferReturn(o){this._freeBufferPool.push(o)}_ensureArrayBuffer(o){let r=(this._offset+o+8)*4;if(this._buffer&&this._buffer.byteLength>=r)return;let c;if(!c){let n=r;n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n++,c=new ArrayBuffer(n)}let f=this._buffer?this._i32View:void 0;this._buffer=c,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),f&&this._i32View.set(f.subarray(0,this._offset))}sendMessage(o,r){this._ensureArrayBuffer(4),this._startOffset=this._offset,this._i32View[this._offset+1]=o,this._offset+=2,r(this._appender),this._i32View[this._startOffset]=this._offset-this._startOffset,this._startOffset=-1,this._sendOneTime()}_sendOneTime(){this._timeoutSet===!1&&(this._timeoutSet=!0,setTimeout(()=>{this._timeoutSet=!1,this._send()},0))}_send(){if(this._freeBufferPool.length===0){this._sendOneTime();return}this._i32View[0]=this._offset,this._messageSender(this._buffer),this._buffer=void 0,this._buffer=this._freeBufferPool.pop(),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u8cView=new Uint8ClampedArray(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=1,this._startOffset=-1}int(o){this._ensureArrayBuffer(1),this._i32View[this._offset]=o,this._offset++}double(o){this._ensureArrayBuffer(2),this._offset%2===1&&this._offset++,this._f64View[this._offset/2]=o,this._offset+=2}float(o){this._ensureArrayBuffer(1),this._f32View[this._offset]=o,this._offset++}int32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r];this._offset+=o.length}float32Array(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._f32View[this._offset+r]=o[r];this._offset+=o.length}booleanArray(o){this._ensureArrayBuffer(o.length);for(let r=0;r<o.length;++r)this._i32View[this._offset+r]=o[r]?1:0;this._offset+=o.length}uint8ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8View.set(o,this._offset*4),this._offset+=o.byteLength>>2,o.byteLength&3&&this._offset++}arrayBuffer(o){let r=new Uint8Array(o);this.uint8ArrayBuffer(r)}uint8ClampedArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.byteLength,this._offset++,this._u8cView.set(o,this._offset*4),this._offset+=o.byteLength>>2,o.byteLength&3&&this._offset++}float32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._f32View.set(o,this._offset),this._offset+=o.length}uint16ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++;let r=this._offset*2;this._u16View.set(o,r),this._offset+=o.length>>1,o.length&1&&this._offset++}int32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._i32View.set(o,this._offset),this._offset+=o.length}uint32ArrayBuffer(o){this._ensureArrayBuffer(o.byteLength/4),this._i32View[this._offset]=o.length,this._offset++,this._u32View.set(o,this._offset),this._offset+=o.length}string(o){let c=new TextEncoder().encode(o);this._ensureArrayBuffer(c.byteLength/4),this._i32View[this._offset]=c.byteLength,this._offset++,this._u8View.set(c,this._offset*4),this._offset+=c.byteLength>>2,c.byteLength&3&&this._offset++}}class fi{constructor(){this._buffer=new ArrayBuffer(0),this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,this._startOffset=-1,this._processor={int:()=>this._i32View[this._startOffset++],bool:()=>this._i32View[this._startOffset++]===1,type:()=>this._i32View[this._startOffset++],float:()=>this._f32View[this._startOffset++],timestamp:()=>{this._startOffset%2===1&&this._startOffset++;let o=this._f64View[this._startOffset/2];return this._startOffset+=2,o},string:()=>{let o=this._i32View[this._startOffset++],c=new TextDecoder().decode(new Uint8Array(this._buffer,this._startOffset*4,o));return this._startOffset+=o>>2,o&3&&this._startOffset++,c},dataWithLength:()=>{let o=this._i32View[this._startOffset++],r=new Uint8Array(o);return r.set(this._u8View.subarray(this._startOffset*4,this._startOffset*4+o)),this._startOffset+=r.byteLength>>2,r.byteLength&3&&this._startOffset++,r.buffer},matrix4x4:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+16)),this._startOffset+=o,r},matrix3x3:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+9)),this._startOffset+=o,r},identityCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+50)),this._startOffset+=o,r},expressionCoefficients:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+29)),this._startOffset+=o,r},cameraModel:()=>{let o=this._i32View[this._startOffset++],r=new Float32Array(o);return r.set(this._f32View.subarray(this._startOffset,this._startOffset+6)),this._startOffset+=o,r},barcodeFormat:()=>this._i32View[this._startOffset++],faceLandmarkName:()=>this._i32View[this._startOffset++],instantTrackerTransformOrientation:()=>this._i32View[this._startOffset++],logLevel:()=>this._i32View[this._startOffset++]}}setData(o){this._buffer=o,this._i32View=new Int32Array(this._buffer),this._f32View=new Float32Array(this._buffer),this._f64View=new Float64Array(this._buffer),this._u8View=new Uint8Array(this._buffer),this._u16View=new Uint16Array(this._buffer),this._u32View=new Uint32Array(this._buffer),this._offset=0,this._length=0,o.byteLength>=4&&(this._offset=1,this._length=this._i32View[0]),this._startOffset=-1}hasMessage(){return this._offset+1<this._length}forMessages(o){for(;this.hasMessage();){let r=this._i32View[this._offset],c=this._i32View[this._offset+1];this._startOffset=this._offset+2,this._offset+=r,o(c,this._processor)}}}class li{constructor(o,r){this._impl=o,this._sender=r,this._deserializer=new fi,this.serializersByPipelineId=new Map,this._pipeline_id_by_pipeline_id=new Map,this._pipeline_by_instance=new Map,this._pipeline_id_by_camera_source_id=new Map,this._camera_source_by_instance=new Map,this._pipeline_id_by_sequence_source_id=new Map,this._sequence_source_by_instance=new Map,this._pipeline_id_by_image_tracker_id=new Map,this._image_tracker_by_instance=new Map,this._pipeline_id_by_face_tracker_id=new Map,this._face_tracker_by_instance=new Map,this._pipeline_id_by_face_mesh_id=new Map,this._face_mesh_by_instance=new Map,this._pipeline_id_by_face_landmark_id=new Map,this._face_landmark_by_instance=new Map,this._pipeline_id_by_barcode_finder_id=new Map,this._barcode_finder_by_instance=new Map,this._pipeline_id_by_instant_world_tracker_id=new Map,this._instant_world_tracker_by_instance=new Map}processBuffer(o){this._deserializer.setData(o),this._deserializer.forMessages((r,c)=>{switch(r){case 34:{this._impl.log_level_set(c.logLevel());break}case 31:{this._impl.analytics_project_id_set(c.string(),c.string());break}case 27:{let f=c.type(),n=this._impl.pipeline_create();this._pipeline_by_instance.set(f,n),this._pipeline_id_by_pipeline_id.set(f,f),this.serializersByPipelineId.set(f,new ui(g=>{this._sender(f,g)}));break}case 28:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_destroy(n),this._pipeline_by_instance.delete(f);break}case 9:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_frame_update(n);break}case 8:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_camera_frame_submit(n,c.dataWithLength(),c.int(),c.int(),c.int(),c.matrix4x4(),c.cameraModel(),c.bool());break}case 10:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_accelerometer_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 11:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_rotation_rate_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 12:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_submit(n,c.timestamp(),c.float(),c.float(),c.float());break}case 13:{let f=c.type(),n=this._pipeline_by_instance.get(f);if(n===void 0)return;this._impl.pipeline_motion_attitude_matrix_submit(n,c.matrix4x4());break}case 29:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=c.string(),ie=this._impl.camera_source_create(g,W);this._camera_source_by_instance.set(f,ie),this._pipeline_id_by_camera_source_id.set(f,n);break}case 30:{let f=c.type(),n=this._camera_source_by_instance.get(f);if(n===void 0)return;this._impl.camera_source_destroy(n),this._camera_source_by_instance.delete(f);break}case 35:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.sequence_source_create(g);this._sequence_source_by_instance.set(f,W),this._pipeline_id_by_sequence_source_id.set(f,n);break}case 36:{let f=c.type(),n=this._sequence_source_by_instance.get(f);if(n===void 0)return;this._impl.sequence_source_destroy(n),this._sequence_source_by_instance.delete(f);break}case 2:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.image_tracker_create(g);this._image_tracker_by_instance.set(f,W),this._pipeline_id_by_image_tracker_id.set(f,n);break}case 14:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_destroy(n),this._image_tracker_by_instance.delete(f);break}case 4:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_target_load_from_memory(n,c.dataWithLength());break}case 3:{let f=c.type(),n=this._image_tracker_by_instance.get(f);if(n===void 0)return;this._impl.image_tracker_enabled_set(n,c.bool());break}case 20:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.face_tracker_create(g);this._face_tracker_by_instance.set(f,W),this._pipeline_id_by_face_tracker_id.set(f,n);break}case 21:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_destroy(n),this._face_tracker_by_instance.delete(f);break}case 22:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_model_load_from_memory(n,c.dataWithLength());break}case 23:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_enabled_set(n,c.bool());break}case 24:{let f=c.type(),n=this._face_tracker_by_instance.get(f);if(n===void 0)return;this._impl.face_tracker_max_faces_set(n,c.int());break}case 25:{let f=c.type(),n=this._impl.face_mesh_create();this._face_mesh_by_instance.set(f,n);break}case 26:{let f=c.type(),n=this._face_mesh_by_instance.get(f);if(n===void 0)return;this._impl.face_mesh_destroy(n),this._face_mesh_by_instance.delete(f);break}case 32:{let f=c.type(),n=c.faceLandmarkName(),g=this._impl.face_landmark_create(n);this._face_landmark_by_instance.set(f,g);break}case 33:{let f=c.type(),n=this._face_landmark_by_instance.get(f);if(n===void 0)return;this._impl.face_landmark_destroy(n),this._face_landmark_by_instance.delete(f);break}case 16:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.barcode_finder_create(g);this._barcode_finder_by_instance.set(f,W),this._pipeline_id_by_barcode_finder_id.set(f,n);break}case 17:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_destroy(n),this._barcode_finder_by_instance.delete(f);break}case 18:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_enabled_set(n,c.bool());break}case 19:{let f=c.type(),n=this._barcode_finder_by_instance.get(f);if(n===void 0)return;this._impl.barcode_finder_formats_set(n,c.barcodeFormat());break}case 5:{let f=c.type(),n=c.type(),g=this._pipeline_by_instance.get(n),W=this._impl.instant_world_tracker_create(g);this._instant_world_tracker_by_instance.set(f,W),this._pipeline_id_by_instant_world_tracker_id.set(f,n);break}case 15:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_destroy(n),this._instant_world_tracker_by_instance.delete(f);break}case 6:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_enabled_set(n,c.bool());break}case 7:{let f=c.type(),n=this._instant_world_tracker_by_instance.get(f);if(n===void 0)return;this._impl.instant_world_tracker_anchor_pose_set_from_camera_offset_raw(n,c.float(),c.float(),c.float(),c.instantTrackerTransformOrientation());break}}})}exploreState(){for(let[o,r]of this._pipeline_by_instance){let c=this._pipeline_id_by_pipeline_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&(f.sendMessage(7,n=>{n.type(o),n.int(this._impl.pipeline_frame_number(r))}),f.sendMessage(6,n=>{n.type(o),n.cameraModel(this._impl.pipeline_camera_model(r))}),f.sendMessage(5,n=>{n.type(o),n.int(this._impl.pipeline_camera_frame_user_data(r))}),f.sendMessage(11,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_camera_attitude(r))}),f.sendMessage(12,n=>{n.type(o),n.matrix4x4(this._impl.pipeline_camera_frame_device_attitude(r))}))}for(let[o,r]of this._camera_source_by_instance){let c=this._pipeline_id_by_camera_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._sequence_source_by_instance){let c=this._pipeline_id_by_sequence_source_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._image_tracker_by_instance){let c=this._pipeline_id_by_image_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(19,n=>{n.type(o),n.int(this._impl.image_tracker_target_loaded_version(r))}),f.sendMessage(1,n=>{n.type(o),n.int(this._impl.image_tracker_anchor_count(r))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(2,g=>{g.type(o),g.int(n),g.string(this._impl.image_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.image_tracker_anchor_count(r);n++)f.sendMessage(3,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.image_tracker_anchor_pose_raw(r,n))})}}for(let[o,r]of this._face_tracker_by_instance){let c=this._pipeline_id_by_face_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(18,n=>{n.type(o),n.int(this._impl.face_tracker_model_loaded_version(r))}),f.sendMessage(13,n=>{n.type(o),n.int(this._impl.face_tracker_anchor_count(r))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(14,g=>{g.type(o),g.int(n),g.string(this._impl.face_tracker_anchor_id(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(15,g=>{g.type(o),g.int(n),g.matrix4x4(this._impl.face_tracker_anchor_pose_raw(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(16,g=>{g.type(o),g.int(n),g.identityCoefficients(this._impl.face_tracker_anchor_identity_coefficients(r,n))});for(let n=0;n<this._impl.face_tracker_anchor_count(r);n++)f.sendMessage(17,g=>{g.type(o),g.int(n),g.expressionCoefficients(this._impl.face_tracker_anchor_expression_coefficients(r,n))})}}for(let[o,r]of this._face_mesh_by_instance){let c=this._pipeline_id_by_face_mesh_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._face_landmark_by_instance){let c=this._pipeline_id_by_face_landmark_id.get(o);!c||this.serializersByPipelineId.get(c)}for(let[o,r]of this._barcode_finder_by_instance){let c=this._pipeline_id_by_barcode_finder_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);if(f){f.sendMessage(8,n=>{n.type(o),n.int(this._impl.barcode_finder_found_number(r))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(9,g=>{g.type(o),g.int(n),g.string(this._impl.barcode_finder_found_text(r,n))});for(let n=0;n<this._impl.barcode_finder_found_number(r);n++)f.sendMessage(10,g=>{g.type(o),g.int(n),g.barcodeFormat(this._impl.barcode_finder_found_format(r,n))})}}for(let[o,r]of this._instant_world_tracker_by_instance){let c=this._pipeline_id_by_instant_world_tracker_id.get(o);if(!c)continue;let f=this.serializersByPipelineId.get(c);f&&f.sendMessage(4,n=>{n.type(o),n.matrix4x4(this._impl.instant_world_tracker_anchor_pose_raw(r))})}}}class pi{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(){for(var o=0,r=this._funcs.length;o<r;o++)this._funcs[o]()}}class di{constructor(){this._funcs=[]}bind(o){this._funcs.push(o)}unbind(o){let r=this._funcs.indexOf(o);r>-1&&this._funcs.splice(r,1)}emit(o){for(var r=0,c=this._funcs.length;r<c;r++)this._funcs[r](o)}}class hi{constructor(){this.onOutgoingMessage=new pi,this.onIncomingMessage=new di,this._outgoingMessages=[]}postIncomingMessage(o){this.onIncomingMessage.emit(o)}postOutgoingMessage(o,r){this._outgoingMessages.push({msg:o,transferables:r}),this.onOutgoingMessage.emit()}getOutgoingMessages(){let o=this._outgoingMessages;return this._outgoingMessages=[],o}}var Ar=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var s=0,o=arguments.length;o--;)s+=arguments[o]*arguments[o];return Math.sqrt(s)});function $t(){var s=new Ar(16);return Ar!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s}function mi(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function wi(s,o){return s[0]=o[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=o[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=o[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}var Tr;(function(s){s[s.UNKNOWN=131072]="UNKNOWN",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=4]="CODE_39",s[s.CODE_93=8]="CODE_93",s[s.CODE_128=16]="CODE_128",s[s.DATA_MATRIX=32]="DATA_MATRIX",s[s.EAN_8=64]="EAN_8",s[s.EAN_13=128]="EAN_13",s[s.ITF=256]="ITF",s[s.MAXICODE=512]="MAXICODE",s[s.PDF_417=1024]="PDF_417",s[s.QR_CODE=2048]="QR_CODE",s[s.RSS_14=4096]="RSS_14",s[s.RSS_EXPANDED=8192]="RSS_EXPANDED",s[s.UPC_A=16384]="UPC_A",s[s.UPC_E=32768]="UPC_E",s[s.UPC_EAN_EXTENSION=65536]="UPC_EAN_EXTENSION",s[s.ALL=131071]="ALL"})(Tr||(Tr={}));var xr;(function(s){s[s.EYE_LEFT=0]="EYE_LEFT",s[s.EYE_RIGHT=1]="EYE_RIGHT",s[s.EAR_LEFT=2]="EAR_LEFT",s[s.EAR_RIGHT=3]="EAR_RIGHT",s[s.NOSE_BRIDGE=4]="NOSE_BRIDGE",s[s.NOSE_TIP=5]="NOSE_TIP",s[s.NOSE_BASE=6]="NOSE_BASE",s[s.LIP_TOP=7]="LIP_TOP",s[s.LIP_BOTTOM=8]="LIP_BOTTOM",s[s.MOUTH_CENTER=9]="MOUTH_CENTER",s[s.CHIN=10]="CHIN",s[s.EYEBROW_LEFT=11]="EYEBROW_LEFT",s[s.EYEBROW_RIGHT=12]="EYEBROW_RIGHT"})(xr||(xr={}));var Rr;(function(s){s[s.WORLD=3]="WORLD",s[s.MINUS_Z_AWAY_FROM_USER=4]="MINUS_Z_AWAY_FROM_USER",s[s.MINUS_Z_HEADING=5]="MINUS_Z_HEADING",s[s.UNCHANGED=6]="UNCHANGED"})(Rr||(Rr={}));var kr;(function(s){s[s.LOG_LEVEL_NONE=0]="LOG_LEVEL_NONE",s[s.LOG_LEVEL_ERROR=1]="LOG_LEVEL_ERROR",s[s.LOG_LEVEL_WARNING=2]="LOG_LEVEL_WARNING",s[s.LOG_LEVEL_VERBOSE=3]="LOG_LEVEL_VERBOSE"})(kr||(kr={}));var Ce;(function(s){s[s.FRAME_PIXEL_FORMAT_I420=0]="FRAME_PIXEL_FORMAT_I420",s[s.FRAME_PIXEL_FORMAT_I420A=1]="FRAME_PIXEL_FORMAT_I420A",s[s.FRAME_PIXEL_FORMAT_I422=2]="FRAME_PIXEL_FORMAT_I422",s[s.FRAME_PIXEL_FORMAT_I444=3]="FRAME_PIXEL_FORMAT_I444",s[s.FRAME_PIXEL_FORMAT_NV12=4]="FRAME_PIXEL_FORMAT_NV12",s[s.FRAME_PIXEL_FORMAT_RGBA=5]="FRAME_PIXEL_FORMAT_RGBA",s[s.FRAME_PIXEL_FORMAT_BGRA=6]="FRAME_PIXEL_FORMAT_BGRA",s[s.FRAME_PIXEL_FORMAT_Y=7]="FRAME_PIXEL_FORMAT_Y"})(Ce||(Ce={}));var zr;(function(s){s[s.IMAGE_TRACKER_TYPE_PLANAR=0]="IMAGE_TRACKER_TYPE_PLANAR",s[s.IMAGE_TRACKER_TYPE_CYLINDRICAL=1]="IMAGE_TRACKER_TYPE_CYLINDRICAL",s[s.IMAGE_TRACKER_TYPE_CONICAL=2]="IMAGE_TRACKER_TYPE_CONICAL"})(zr||(zr={}));const Lr=new Map;class er{constructor(o){this._gl=o,this._viewports=[],this._underlyingViewport=this._gl.viewport,this._viewports.push(this._gl.getParameter(this._gl.VIEWPORT)),this._gl.viewport=(r,c,f,n)=>{this._viewports[this._viewports.length-1]=[r,c,f,n],this._underlyingViewport.call(this._gl,r,c,f,n)}}static get(o){let r=Lr.get(o);return r||(r=new er(o),Lr.set(o,r)),r}push(){this._viewports.push(this._viewports[this._viewports.length-1])}pop(){const o=this._viewports.pop(),r=this._viewports[this._viewports.length-1];(!o||o[0]!==r[0]||o[1]!==r[1]||o[2]!==r[2]||o[3]!==r[3])&&this._underlyingViewport.call(this._gl,r[0],r[1],r[2],r[3])}}var bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tr={exports:{}};(function(s,o){(function(r,c){var f="1.0.33",n="",g="?",W="function",ie="undefined",Z="object",te="string",me="major",m="model",x="name",y="type",v="vendor",R="version",se="architecture",ue="console",D="mobile",S="tablet",oe="smarttv",Oe="wearable",je="embedded",ke=350,$="Amazon",L="Apple",Ve="ASUS",Ne="BlackBerry",pe="Browser",Fe="Chrome",ne="Edge",K="Firefox",ye="Google",J="Huawei",w="LG",C="Microsoft",Pe="Motorola",Me="Opera",Ge="Samsung",de="Sharp",ve="Sony",ze="Xiaomi",tt="Zebra",rt="Facebook",bt=function(N,H){var U={};for(var re in N)H[re]&&H[re].length%2===0?U[re]=H[re].concat(N[re]):U[re]=N[re];return U},Ee=function(N){for(var H={},U=0;U<N.length;U++)H[N[U].toUpperCase()]=N[U];return H},We=function(N,H){return typeof N===te?He(H).indexOf(He(N))!==-1:!1},He=function(N){return N.toLowerCase()},it=function(N){return typeof N===te?N.replace(/[^\d\.]/g,n).split(".")[0]:c},ee=function(N,H){if(typeof N===te)return N=N.replace(/^\s\s*/,n),typeof H===ie?N:N.substring(0,ke)},Ae=function(N,H){for(var U=0,re,P,_e,X,Se,ce;U<H.length&&!Se;){var b=H[U],h=H[U+1];for(re=P=0;re<b.length&&!Se;)if(Se=b[re++].exec(N),Se)for(_e=0;_e<h.length;_e++)ce=Se[++P],X=h[_e],typeof X===Z&&X.length>0?X.length===2?typeof X[1]==W?this[X[0]]=X[1].call(this,ce):this[X[0]]=X[1]:X.length===3?typeof X[1]===W&&!(X[1].exec&&X[1].test)?this[X[0]]=ce?X[1].call(this,ce,X[2]):c:this[X[0]]=ce?ce.replace(X[1],X[2]):c:X.length===4&&(this[X[0]]=ce?X[3].call(this,ce.replace(X[1],X[2])):c):this[X]=ce||c;U+=2}},$e=function(N,H){for(var U in H)if(typeof H[U]===Z&&H[U].length>0){for(var re=0;re<H[U].length;re++)if(We(H[U][re],N))return U===g?c:U}else if(We(H[U],N))return U===g?c:U;return N},gt={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ae={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[R,[x,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[R,[x,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[x,R],[/opios[\/ ]+([\w\.]+)/i],[R,[x,Me+" Mini"]],[/\bopr\/([\w\.]+)/i],[R,[x,Me]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[x,R],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[R,[x,"UC"+pe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[R,[x,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[R,[x,"WeChat"]],[/konqueror\/([\w\.]+)/i],[R,[x,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[R,[x,"IE"]],[/yabrowser\/([\w\.]+)/i],[R,[x,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[x,/(.+)/,"$1 Secure "+pe],R],[/\bfocus\/([\w\.]+)/i],[R,[x,K+" Focus"]],[/\bopt\/([\w\.]+)/i],[R,[x,Me+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[R,[x,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[R,[x,"Dolphin"]],[/coast\/([\w\.]+)/i],[R,[x,Me+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[R,[x,"MIUI "+pe]],[/fxios\/([-\w\.]+)/i],[R,[x,K]],[/\bqihu|(qi?ho?o?|360)browser/i],[[x,"360 "+pe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[x,/(.+)/,"$1 "+pe],R],[/(comodo_dragon)\/([\w\.]+)/i],[[x,/_/g," "],R],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[x,R],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[x],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[x,rt],R],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[x,R],[/\bgsa\/([\w\.]+) .*safari\//i],[R,[x,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[R,[x,Fe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[x,Fe+" WebView"],R],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[R,[x,"Android "+pe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[x,R],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[R,[x,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[R,x],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[x,[R,$e,gt]],[/(webkit|khtml)\/([\w\.]+)/i],[x,R],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[x,"Netscape"],R],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[R,[x,K+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[x,R],[/(cobalt)\/([\w\.]+)/i],[x,[R,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[se,"amd64"]],[/(ia32(?=;))/i],[[se,He]],[/((?:i[346]|x)86)[;\)]/i],[[se,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[se,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[se,"armhf"]],[/windows (ce|mobile); ppc;/i],[[se,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[se,/ower/,n,He]],[/(sun4\w)[;\)]/i],[[se,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[se,He]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[m,[v,Ge],[y,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[m,[v,Ge],[y,D]],[/\((ip(?:hone|od)[\w ]*);/i],[m,[v,L],[y,D]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[m,[v,L],[y,S]],[/(macintosh);/i],[m,[v,L]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[m,[v,J],[y,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[m,[v,J],[y,D]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[m,/_/g," "],[v,ze],[y,D]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[m,/_/g," "],[v,ze],[y,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[m,[v,"OPPO"],[y,D]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[m,[v,"Vivo"],[y,D]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[m,[v,"Realme"],[y,D]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[m,[v,Pe],[y,D]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[m,[v,Pe],[y,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[m,[v,w],[y,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[m,[v,w],[y,D]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[m,[v,"Lenovo"],[y,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[m,/_/g," "],[v,"Nokia"],[y,D]],[/(pixel c)\b/i],[m,[v,ye],[y,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[m,[v,ye],[y,D]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[m,[v,ve],[y,D]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[m,"Xperia Tablet"],[v,ve],[y,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[m,[v,"OnePlus"],[y,D]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[m,[v,$],[y,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[m,/(.+)/g,"Fire Phone $1"],[v,$],[y,D]],[/(playbook);[-\w\),; ]+(rim)/i],[m,v,[y,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[m,[v,Ne],[y,D]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[m,[v,Ve],[y,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[m,[v,Ve],[y,D]],[/(nexus 9)/i],[m,[v,"HTC"],[y,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[m,/_/g," "],[y,D]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[m,[v,"Acer"],[y,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[m,[v,"Meizu"],[y,D]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[m,[v,de],[y,D]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,m,[y,D]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,m,[y,S]],[/(surface duo)/i],[m,[v,C],[y,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[m,[v,"Fairphone"],[y,D]],[/(u304aa)/i],[m,[v,"AT&T"],[y,D]],[/\bsie-(\w*)/i],[m,[v,"Siemens"],[y,D]],[/\b(rct\w+) b/i],[m,[v,"RCA"],[y,S]],[/\b(venue[\d ]{2,7}) b/i],[m,[v,"Dell"],[y,S]],[/\b(q(?:mv|ta)\w+) b/i],[m,[v,"Verizon"],[y,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[m,[v,"Barnes & Noble"],[y,S]],[/\b(tm\d{3}\w+) b/i],[m,[v,"NuVision"],[y,S]],[/\b(k88) b/i],[m,[v,"ZTE"],[y,S]],[/\b(nx\d{3}j) b/i],[m,[v,"ZTE"],[y,D]],[/\b(gen\d{3}) b.+49h/i],[m,[v,"Swiss"],[y,D]],[/\b(zur\d{3}) b/i],[m,[v,"Swiss"],[y,S]],[/\b((zeki)?tb.*\b) b/i],[m,[v,"Zeki"],[y,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],m,[y,S]],[/\b(ns-?\w{0,9}) b/i],[m,[v,"Insignia"],[y,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[m,[v,"NextBook"],[y,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],m,[y,D]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],m,[y,D]],[/\b(ph-1) /i],[m,[v,"Essential"],[y,D]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[m,[v,"Envizen"],[y,S]],[/\b(trio[-\w\. ]+) b/i],[m,[v,"MachSpeed"],[y,S]],[/\btu_(1491) b/i],[m,[v,"Rotor"],[y,S]],[/(shield[\w ]+) b/i],[m,[v,"Nvidia"],[y,S]],[/(sprint) (\w+)/i],[v,m,[y,D]],[/(kin\.[onetw]{3})/i],[[m,/\./g," "],[v,C],[y,D]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[m,[v,tt],[y,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[m,[v,tt],[y,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,m,[y,ue]],[/droid.+; (shield) bui/i],[m,[v,"Nvidia"],[y,ue]],[/(playstation [345portablevi]+)/i],[m,[v,ve],[y,ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[m,[v,C],[y,ue]],[/smart-tv.+(samsung)/i],[v,[y,oe]],[/hbbtv.+maple;(\d+)/i],[[m,/^/,"SmartTV"],[v,Ge],[y,oe]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,w],[y,oe]],[/(apple) ?tv/i],[v,[m,L+" TV"],[y,oe]],[/crkey/i],[[m,Fe+"cast"],[v,ye],[y,oe]],[/droid.+aft(\w)( bui|\))/i],[m,[v,$],[y,oe]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[m,[v,de],[y,oe]],[/(bravia[\w ]+)( bui|\))/i],[m,[v,ve],[y,oe]],[/(mitv-\w{5}) bui/i],[m,[v,ze],[y,oe]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,ee],[m,ee],[y,oe]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[y,oe]],[/((pebble))app/i],[v,m,[y,Oe]],[/droid.+; (glass) \d/i],[m,[v,ye],[y,Oe]],[/droid.+; (wt63?0{2,3})\)/i],[m,[v,tt],[y,Oe]],[/(quest( 2)?)/i],[m,[v,rt],[y,Oe]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[y,je]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[m,[y,D]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[m,[y,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[y,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[y,D]],[/(android[-\w\. ]{0,9});.+buil/i],[m,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[R,[x,ne+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[R,[x,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[x,R],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[R,x]],os:[[/microsoft (windows) (vista|xp)/i],[x,R],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[x,[R,$e,V]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,"Windows"],[R,$e,V]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[R,/_/g,"."],[x,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[x,"Mac OS"],[R,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[R,x],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[x,R],[/\(bb(10);/i],[R,[x,Ne]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[R,[x,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[R,[x,K+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[R,[x,"webOS"]],[/crkey\/([\d\.]+)/i],[R,[x,Fe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[x,"Chromium OS"],R],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[x,R],[/(sunos) ?([\w\.\d]*)/i],[[x,"Solaris"],R],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[x,R]]},fe=function(N,H){if(typeof N===Z&&(H=N,N=c),!(this instanceof fe))return new fe(N,H).getResult();var U=N||(typeof r!==ie&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:n),re=H?bt(ae,H):ae;return this.getBrowser=function(){var P={};return P[x]=c,P[R]=c,Ae.call(P,U,re.browser),P.major=it(P.version),P},this.getCPU=function(){var P={};return P[se]=c,Ae.call(P,U,re.cpu),P},this.getDevice=function(){var P={};return P[v]=c,P[m]=c,P[y]=c,Ae.call(P,U,re.device),P},this.getEngine=function(){var P={};return P[x]=c,P[R]=c,Ae.call(P,U,re.engine),P},this.getOS=function(){var P={};return P[x]=c,P[R]=c,Ae.call(P,U,re.os),P},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return U},this.setUA=function(P){return U=typeof P===te&&P.length>ke?ee(P,ke):P,this},this.setUA(U),this};fe.VERSION=f,fe.BROWSER=Ee([x,R,me]),fe.CPU=Ee([se]),fe.DEVICE=Ee([m,v,y,ue,D,oe,S,Oe,je]),fe.ENGINE=fe.OS=Ee([x,R]),s.exports&&(o=s.exports=fe),o.UAParser=fe;var Le=typeof r!==ie&&(r.jQuery||r.Zepto);if(Le&&!Le.ua){var Ze=new fe;Le.ua=Ze.getResult(),Le.ua.get=function(){return Ze.getUA()},Le.ua.set=function(N){Ze.setUA(N);var H=Ze.getResult();for(var U in H)Le.ua[U]=H[U]}}})(typeof window=="object"?window:bi)})(tr,tr.exports);var gi=tr.exports,Fr;(function(s){s[s.OBJECT_URL=0]="OBJECT_URL",s[s.SRC_OBJECT=1]="SRC_OBJECT"})(Fr||(Fr={}));let j={deviceMotionMutliplier:-1,blacklisted:!1,showGyroPermissionsWarningIfNecessary:!1,showSafariPermissionsResetIfNecessary:!1,requestHighFrameRate:!1,videoWidth:640,videoHeight:480,dataWidth:320,dataHeight:240,videoElementInDOM:!1,preferMediaStreamTrackProcessorCamera:!1,preferImageBitmapCamera:!1,ios164CameraSelection:!1,relyOnConstraintsForCameraSelection:!1,forceWindowOrientation:!1};typeof window<"u"&&(window.zeeProfile=j,window.location.href.indexOf("_mstppipeline")>=0&&(console.log("Configuring for MSTP camera pipeline (if supported)"),j.preferMediaStreamTrackProcessorCamera=!0),window.location.href.indexOf("_imagebitmappipeline")>=0&&(console.log("Configuring for ImageBitmap camera pipeline (if supported)"),j.preferImageBitmapCamera=!0));let rr=new gi.UAParser,Mr=(rr.getOS().name||"unknown").toLowerCase(),Ir=(rr.getEngine().name||"unknown").toLowerCase();if(Ir==="webkit"&&Mr!=="ios"&&(j.deviceMotionMutliplier=1,typeof window<"u"&&window.orientation!==void 0&&Or("15.0")),Ir==="webkit"&&Mr==="ios"){j.deviceMotionMutliplier=1;const s=rr.getOS().version||"15.0";Or(s)}function Or(s){j.forceWindowOrientation=!0;let o=s.split(".");if(o.length>=2){const r=parseInt(o[0]),c=parseInt(o[1]);(r<11||r===11&&c<3)&&(j.blacklisted=!0),(r<12||r===12&&c<2)&&(j.videoElementInDOM=!0),(r===12&&c>=2||r>=13)&&(j.showGyroPermissionsWarningIfNecessary=!0),r>=13&&(j.showSafariPermissionsResetIfNecessary=!0),(r>=12&&c>1||r>=13)&&navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&navigator.mediaDevices.getSupportedConstraints().frameRate&&(j.requestHighFrameRate=!0,r<14&&(j.videoHeight=360,j.dataHeight=180)),r===16&&c>=4&&(j.ios164CameraSelection=!0),r>=17&&(j.relyOnConstraintsForCameraSelection=!0)}}function Pr(s,o,r){let c=s.createShader(o);if(!c)throw new Error("Unable to create shader");s.shaderSource(c,r),s.compileShader(c);let f=s.getShaderInfoLog(c);if(f&&f.trim().length>0)throw new Error("Shader compile error: "+f);return c}function yi(s,o){s.linkProgram(o);let r=s.getProgramInfoLog(o);if(r&&r.trim().length>0)throw new Error("Unable to link: "+r)}class vi{constructor(o){this._gl=o,this._isPaused=!0,this._hadFrames=!1,this._isUserFacing=!1,this._cameraToScreenRotation=0,this._isUploadFrame=!0,this._computedTransformRotation=-1,this._computedFrontCameraRotation=!1,this._cameraUvTransform=$t(),this._framebufferWidth=0,this._framebufferHeight=0,this._framebufferId=null,this._renderTexture=null,this._isWebGL2=!1,this._isWebGL2=o.getParameter(o.VERSION).indexOf("WebGL 2")>=0,this._isWebGL2||(this._instancedArraysExtension=this._gl.getExtension("ANGLE_instanced_arrays"))}resetGLContext(){this._framebufferId=null,this._renderTexture=null,this._vertexBuffer=void 0,this._indexBuffer=void 0,this._greyscaleShader=void 0}destroy(){this.resetGLContext()}uploadFrame(o,r,c,f){let n=this._gl;const g=er.get(n);g.push();const W=n.isEnabled(n.SCISSOR_TEST),ie=n.isEnabled(n.DEPTH_TEST),Z=n.isEnabled(n.BLEND),te=n.isEnabled(n.CULL_FACE),me=n.isEnabled(n.STENCIL_TEST),m=n.getParameter(n.ACTIVE_TEXTURE),x=n.getParameter(n.UNPACK_FLIP_Y_WEBGL),y=n.getParameter(n.CURRENT_PROGRAM);n.activeTexture(n.TEXTURE0);const v=n.getParameter(n.TEXTURE_BINDING_2D),R=n.getParameter(n.FRAMEBUFFER_BINDING),se=n.getParameter(n.ARRAY_BUFFER_BINDING),ue=n.getParameter(n.ELEMENT_ARRAY_BUFFER_BINDING);n.disable(n.SCISSOR_TEST),n.disable(n.DEPTH_TEST),n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.STENCIL_TEST),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.bindTexture(n.TEXTURE_2D,o);const D=0,S=n.RGBA,oe=n.RGBA,Oe=n.UNSIGNED_BYTE;n.texImage2D(n.TEXTURE_2D,D,S,oe,Oe,r),typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?(r.videoWidth,r.videoHeight):(r.width,r.height),this._updateTransforms(c,f);let je=this._getFramebuffer(n,j.dataWidth/4,j.dataHeight),ke=this._getVertexBuffer(n),$=this._getIndexBuffer(n),L=this._getGreyscaleShader(n);const Ve=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),Ne=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),pe=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),Fe=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),ne=n.getVertexAttribOffset(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),K=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED),ye=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),J=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_SIZE),w=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_TYPE),C=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_NORMALIZED),Pe=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_STRIDE),Me=n.getVertexAttribOffset(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_POINTER),Ge=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING),de=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_ENABLED);let ve=0,ze=0;this._isWebGL2?(ve=n.getVertexAttrib(L.aVertexPositionLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),ze=n.getVertexAttrib(L.aTextureCoordLoc,n.VERTEX_ATTRIB_ARRAY_DIVISOR),n.vertexAttribDivisor(L.aVertexPositionLoc,0),n.vertexAttribDivisor(L.aTextureCoordLoc,0)):this._instancedArraysExtension&&(ve=n.getVertexAttrib(L.aVertexPositionLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),ze=n.getVertexAttrib(L.aTextureCoordLoc,this._instancedArraysExtension.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aVertexPositionLoc,0),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aTextureCoordLoc,0)),n.bindFramebuffer(n.FRAMEBUFFER,je),n.viewport(0,0,this._framebufferWidth,this._framebufferHeight),n.clear(n.COLOR_BUFFER_BIT),n.bindBuffer(n.ARRAY_BUFFER,ke),n.vertexAttribPointer(L.aVertexPositionLoc,2,n.FLOAT,!1,4*4,0),n.enableVertexAttribArray(L.aVertexPositionLoc),n.vertexAttribPointer(L.aTextureCoordLoc,2,n.FLOAT,!1,4*4,2*4),n.enableVertexAttribArray(L.aTextureCoordLoc),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,$),n.useProgram(L.program),n.uniform1f(L.uTexWidthLoc,j.dataWidth),n.uniformMatrix4fv(L.uUvTransformLoc,!1,this._cameraUvTransform),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,o),n.uniform1i(L.uSamplerLoc,0),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),n.bindBuffer(n.ARRAY_BUFFER,ye),n.vertexAttribPointer(L.aVertexPositionLoc,Ve,Ne,pe,Fe,ne),n.bindBuffer(n.ARRAY_BUFFER,Ge),n.vertexAttribPointer(L.aTextureCoordLoc,J,w,C,Pe,Me),n.bindBuffer(n.ARRAY_BUFFER,se),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,ue),K||n.disableVertexAttribArray(L.aVertexPositionLoc),de||n.disableVertexAttribArray(L.aTextureCoordLoc),this._isWebGL2?(n.vertexAttribDivisor(L.aVertexPositionLoc,ve),n.vertexAttribDivisor(L.aTextureCoordLoc,ze)):this._instancedArraysExtension&&(this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aVertexPositionLoc,ve),this._instancedArraysExtension.vertexAttribDivisorANGLE(L.aTextureCoordLoc,ze)),n.bindFramebuffer(n.FRAMEBUFFER,R),n.useProgram(y),n.bindTexture(n.TEXTURE_2D,v),n.activeTexture(m),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,x),g.pop(),Z&&n.enable(n.BLEND),te&&n.enable(n.CULL_FACE),ie&&n.enable(n.DEPTH_TEST),W&&n.enable(n.SCISSOR_TEST),me&&n.enable(n.STENCIL_TEST)}readFrame(o,r){let c=this._gl,f=new Uint8Array(r);const n=c.getParameter(c.FRAMEBUFFER_BINDING);let g=this._getFramebuffer(c,j.dataWidth/4,j.dataHeight);return c.bindFramebuffer(c.FRAMEBUFFER,g),c.readPixels(0,0,this._framebufferWidth,this._framebufferHeight,c.RGBA,c.UNSIGNED_BYTE,f),c.bindFramebuffer(c.FRAMEBUFFER,n),{uvTransform:this._cameraUvTransform,data:r,texture:o,dataWidth:j.dataWidth,dataHeight:j.dataHeight,userFacing:this._computedFrontCameraRotation}}_updateTransforms(o,r){o==this._computedTransformRotation&&r==this._computedFrontCameraRotation||(this._computedTransformRotation=o,this._computedFrontCameraRotation=r,this._cameraUvTransform=this._getCameraUvTransform())}_getCameraUvTransform(){switch(this._computedTransformRotation){case 270:return new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]);case 180:return new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);case 90:return new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1])}return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}_getFramebuffer(o,r,c){if(this._framebufferWidth===r&&this._framebufferHeight===c&&this._framebufferId)return this._framebufferId;if(this._framebufferId&&(o.deleteFramebuffer(this._framebufferId),this._framebufferId=null),this._renderTexture&&(o.deleteTexture(this._renderTexture),this._renderTexture=null),this._framebufferId=o.createFramebuffer(),!this._framebufferId)throw new Error("Unable to create framebuffer");if(o.bindFramebuffer(o.FRAMEBUFFER,this._framebufferId),this._renderTexture=o.createTexture(),!this._renderTexture)throw new Error("Unable to create render texture");o.activeTexture(o.TEXTURE0);const f=o.getParameter(o.TEXTURE_BINDING_2D);o.bindTexture(o.TEXTURE_2D,this._renderTexture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r,c,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameterf(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this._renderTexture,0);let n=o.checkFramebufferStatus(o.FRAMEBUFFER);if(n!==o.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete: "+n.toString());return this._framebufferWidth=r,this._framebufferHeight=c,o.bindTexture(o.TEXTURE_2D,f),o.bindFramebuffer(o.FRAMEBUFFER,null),this._framebufferId}_getVertexBuffer(o){if(this._vertexBuffer)return this._vertexBuffer;if(this._vertexBuffer=o.createBuffer(),!this._vertexBuffer)throw new Error("Unable to create vertex buffer");o.bindBuffer(o.ARRAY_BUFFER,this._vertexBuffer);let r=new Float32Array([-1,-1,0,0,-1,1,0,1,1,1,1,1,1,-1,1,0]);return o.bufferData(o.ARRAY_BUFFER,r,o.STATIC_DRAW),this._vertexBuffer}_getIndexBuffer(o){if(this._indexBuffer)return this._indexBuffer;if(this._indexBuffer=o.createBuffer(),!this._indexBuffer)throw new Error("Unable to create index buffer");o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this._indexBuffer);let r=new Uint16Array([0,1,2,0,2,3]);return o.bufferData(o.ELEMENT_ARRAY_BUFFER,r,o.STATIC_DRAW),this._indexBuffer}_getGreyscaleShader(o){if(this._greyscaleShader)return this._greyscaleShader;let r=o.createProgram();if(!r)throw new Error("Unable to create program");let c=Pr(o,o.VERTEX_SHADER,Ei),f=Pr(o,o.FRAGMENT_SHADER,Ai);o.attachShader(r,c),o.attachShader(r,f),yi(o,r);let n=o.getUniformLocation(r,"uTexWidth");if(!n)throw new Error("Unable to get uniform location uTexWidth");let g=o.getUniformLocation(r,"uUvTransform");if(!g)throw new Error("Unable to get uniform location uUvTransform");let W=o.getUniformLocation(r,"uSampler");if(!W)throw new Error("Unable to get uniform location uSampler");return this._greyscaleShader={program:r,aVertexPositionLoc:o.getAttribLocation(r,"aVertexPosition"),aTextureCoordLoc:o.getAttribLocation(r,"aTextureCoord"),uTexWidthLoc:n,uUvTransformLoc:g,uSamplerLoc:W},this._greyscaleShader}}let Ei=`
    attribute vec4 aVertexPosition;
    attribute vec2 aTextureCoord;

    varying highp vec2 vTextureCoord1;
    varying highp vec2 vTextureCoord2;
    varying highp vec2 vTextureCoord3;
    varying highp vec2 vTextureCoord4;

    uniform float uTexWidth;
	uniform mat4 uUvTransform;

    void main(void) {
      highp vec2 offset1 = vec2(1.5 / uTexWidth, 0);
      highp vec2 offset2 = vec2(0.5 / uTexWidth, 0);

      gl_Position = aVertexPosition;
      vTextureCoord1 = (uUvTransform * vec4(aTextureCoord - offset1, 0, 1)).xy;
      vTextureCoord2 = (uUvTransform * vec4(aTextureCoord - offset2, 0, 1)).xy;
      vTextureCoord3 = (uUvTransform * vec4(aTextureCoord + offset2, 0, 1)).xy;
      vTextureCoord4 = (uUvTransform * vec4(aTextureCoord + offset1, 0, 1)).xy;
    }
`,Ai=`
  varying highp vec2 vTextureCoord1;
  varying highp vec2 vTextureCoord2;
  varying highp vec2 vTextureCoord3;
  varying highp vec2 vTextureCoord4;

  uniform sampler2D uSampler;

  const lowp vec3 colorWeights = vec3(77.0 / 256.0, 150.0 / 256.0, 29.0 / 256.0);

  void main(void) {
    lowp vec4 outpx;

    outpx.r = dot(colorWeights, texture2D(uSampler, vTextureCoord1).xyz);
    outpx.g = dot(colorWeights, texture2D(uSampler, vTextureCoord2).xyz);
    outpx.b = dot(colorWeights, texture2D(uSampler, vTextureCoord3).xyz);
    outpx.a = dot(colorWeights, texture2D(uSampler, vTextureCoord4).xyz);

    gl_FragColor = outpx;
  }
`,mt,_t,ir,wt;function Ti(){if(!ir||!wt){if(wt=new OffscreenCanvas(1,1).getContext("webgl"),!wt)throw new Error("Unable to get offscreen GL context");ir=new vi(wt)}return[ir,wt]}function xi(s,o,r,c){const[f,n]=Ti();if(_t||(_t=n.createTexture(),n.bindTexture(n.TEXTURE_2D,_t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)),!_t)return;(!mt||mt.byteLength<j.dataWidth*j.dataHeight)&&(console.log("Generating pixel buffer",j.dataWidth*j.dataHeight),mt=new ArrayBuffer(j.dataWidth*j.dataHeight)),f.uploadFrame(_t,s.i,s.r,s.userFacing);let g=f.readFrame(_t,mt),W={t:"imageBitmapS2C",dataWidth:g.dataWidth,dataHeight:g.dataHeight,frame:s.i,userFacing:g.userFacing,uvTransform:g.uvTransform||$t(),tokenId:s.tokenId,p:s.p};c.postOutgoingMessage(W,[s.i]);let ie=r._pipeline_by_instance.get(s.p);ie&&(o.pipeline_camera_frame_submit(ie,mt,g.dataWidth,g.dataHeight,s.tokenId,s.cameraToDevice,s.cameraModel,g.userFacing),o.pipeline_frame_update(ie),r.exploreState())}var Sr=function(s,o,r,c){function f(n){return n instanceof r?n:new r(function(g){g(n)})}return new(r||(r=Promise))(function(n,g){function W(te){try{Z(c.next(te))}catch(me){g(me)}}function ie(te){try{Z(c.throw(te))}catch(me){g(me)}}function Z(te){te.done?n(te.value):f(te.value).then(W,ie)}Z((c=c.apply(s,o||[])).next())})};let Ue=new hi,nr=0;function Ri(s){return Sr(this,void 0,void 0,function*(){let o=_i({locateFile:(r,c)=>r.endsWith("zappar-cv.wasm")?s:c+r,onRuntimeInitialized:()=>{let r=ci(o),c=new li(r,(f,n)=>{Ue.postOutgoingMessage({p:f,t:"zappar",d:n},[n])});Ue.postOutgoingMessage("loaded",[]),Ue.onIncomingMessage.bind(f=>{var n;switch(f.t){case"zappar":c.processBuffer(f.d),Ue.postOutgoingMessage({t:"buf",d:f.d},[f.d]);break;case"buf":(n=c.serializersByPipelineId.get(f.p))===null||n===void 0||n.bufferReturn(f.d);break;case"cameraFrameC2S":{let g=f,W=c._pipeline_by_instance.get(g.p),ie;W&&(r.pipeline_camera_frame_submit(W,g.d,g.width,g.height,g.token,g.c2d,g.cm,g.userFacing),r.pipeline_frame_update(W),ie=r.pipeline_camera_frame_device_attitude(W),c.exploreState());let Z={token:g.token,d:g.d,p:g.p,t:"cameraFrameRecycleS2C",att:ie};Ue.postOutgoingMessage(Z,[g.d]);break}case"streamC2S":{let g=f;ki(o,r,g.s,g.p,g.userFacing,c,g.source);break}case"cameraToScreenC2S":{nr=f.r;break}case"imageBitmapC2S":{xi(f,r,c,Ue);break}}})}})})}let ct=0,ar=0,Br=1;const Pt=$t(),ut=new Float32Array([300,300,160,120,0,0]);function ki(s,o,r,c,f,n,g){return Sr(this,void 0,void 0,function*(){const W=yield r.getReader();for(;;){let ie=yield W.read();if(ie.done){console.log("Stream done");return}let Z=ie.value,te=Z.allocationSize();te>ar&&(ct>0&&s._free(ct),ct=s._malloc(te),ar=te),yield Z.copyTo(s.HEAPU8.subarray(ct,ct+ar));let me=Br;Br++;const m=Z.visibleRect.width,x=Z.visibleRect.height;let y,v=m,R=x;switch(nr){case 270:y=new Float32Array([0,1,0,0,-1,0,0,0,0,0,1,0,1,0,0,1]),v=x,R=m;break;case 180:y=new Float32Array([-1,0,0,0,0,-1,0,0,0,0,1,0,1,1,0,1]);break;case 90:y=new Float32Array([0,-1,0,0,1,0,0,0,0,0,1,0,0,1,0,1]),v=x,R=m;break;default:y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);break}let se=Z.clone();f?wi(Pt,[-1,1,-1]):mi(Pt);let ue=300*j.dataWidth/320;ut[0]=ue,ut[1]=ue,ut[2]=j.dataWidth*.5,ut[3]=j.dataHeight*.5;const D={token:me,d:se,p:c,t:"videoFrameS2C",userFacing:f,uvTransform:y,w:v,h:R,cameraToDevice:Pt,cameraModel:ut,source:g};Ue.postOutgoingMessage(D,[D.d,D.uvTransform.buffer]);const S=n._pipeline_by_instance.get(c);S&&(o.pipeline_camera_frame_submit_raw_pointer(S,ct,te,zi(Z.format),m,x,me,Pt,nr,ut,f),o.pipeline_frame_update(S),n.exploreState()),Z.close()}})}function zi(s){switch(s){case"I420":return Ce.FRAME_PIXEL_FORMAT_I420;case"I420A":return Ce.FRAME_PIXEL_FORMAT_I420A;case"I422":return Ce.FRAME_PIXEL_FORMAT_I422;case"I444":return Ce.FRAME_PIXEL_FORMAT_I444;case"NV12":return Ce.FRAME_PIXEL_FORMAT_NV12;case"RGBA":case"RGBX":return Ce.FRAME_PIXEL_FORMAT_RGBA;case"BGRA":case"BGRX":return Ce.FRAME_PIXEL_FORMAT_BGRA}return Ce.FRAME_PIXEL_FORMAT_Y}const St=self;Ue.onOutgoingMessage.bind(()=>{let s=Ue.getOutgoingMessages();for(let o of s)St.postMessage(o.msg,o.transferables)});let Dr=s=>{if(s&&s.data&&s.data.t==="wasm"){let o=location.href.startsWith("blob")?s.data.url:new URL(""+new URL("zappar-cv-BCv-gc5z.wasm",self.location.href).href,self.location.href).toString();Ri(o),St.removeEventListener("message",Dr)}};St.addEventListener("message",Dr),St.addEventListener("message",s=>{Ue.postIncomingMessage(s.data)})})();
//# sourceMappingURL=worker-BSMYs11w.js.map
